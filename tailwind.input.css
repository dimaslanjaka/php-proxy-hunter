/* Tailwind CSS
 * run `yarn dlx @tailwindcss/cli -i ./tailwind.input.css -o ./src/react/components/theme.css` to generate the CSS file
 */
@import 'tailwindcss';
@import './node_modules/simple-datatables/dist/style.css';

/* theme switcher support by changing class to dark and light */
@custom-variant dark (&:where(.dark, .dark *));
@custom-variant light (&:where(.light, .light *));

/* apply flowbite */
@plugin "flowbite/plugin";

/* disabled element */
@layer components {
  .disabled {
    @apply opacity-50 cursor-not-allowed;
  }
}

/* Ensure all buttons have pointer cursor */
.btn,
button,
input[type='button'],
input[type='submit'] {
  @apply cursor-pointer;
}

/* hide google recaptcha badge */
.grecaptcha-badge {
  visibility: hidden !important;
}

/* Always disable .disabled class */
.disabled,
[disabled]:not([disabled='false']):not([disabled='false']) {
  @apply opacity-50 cursor-not-allowed;
  pointer-events: none !important;
}

/* simple-datatables dark theme fixes */
.datatable-info {
  @apply text-gray-900 dark:text-gray-300;
}

.datatable-container .datatable-pagination {
  @apply text-gray-900 dark:text-gray-300;
}

.datatable-pagination button {
  @apply text-gray-900 dark:text-gray-300;
}

.datatable-pagination button:hover {
  @apply bg-gray-200 dark:bg-gray-600;
}

/* Pagination list styling */
.datatable-pagination-list {
  @apply flex gap-1;
}

.datatable-pagination-list-item {
  @apply list-none;
}

.datatable-pagination-list-item-link {
  @apply px-3 py-2 text-sm font-medium text-gray-900 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors;
}

.datatable-pagination-list-item.datatable-active .datatable-pagination-list-item-link {
  @apply bg-blue-600 dark:bg-blue-700 text-white border-blue-600 dark:border-blue-700;
}

/* Datatable top section (dropdown and search) */
.datatable-top {
  @apply flex flex-col gap-4 mb-6 sm:flex-row sm:items-center sm:justify-between sm:gap-6;
  padding: 1.25rem;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  border-radius: 0.75rem;
  border: 1px solid #e2e8f0;
}

.dark .datatable-top {
  background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
  border-color: #334155;
}

.datatable-dropdown {
  @apply flex items-center flex-shrink-0;
}

.datatable-dropdown label {
  @apply flex items-center gap-3 text-sm font-medium text-gray-700 dark:text-gray-300;
  cursor: pointer;
}

.datatable-selector {
  @apply px-3 py-2 text-sm font-medium text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg transition-all duration-200;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.datatable-selector:hover {
  @apply border-gray-400 dark:border-gray-500 shadow-md;
  background-color: #f9fafb;
}

.dark .datatable-selector:hover {
  background-color: #374151;
}

.datatable-selector:focus {
  @apply outline-none ring-2 ring-blue-400 ring-offset-0 border-blue-400;
}

.dark .datatable-selector:focus {
  @apply ring-blue-500;
}

.datatable-search {
  @apply flex items-center flex-grow sm:flex-grow-0 sm:w-72;
}

.datatable-input {
  @apply w-full px-4 py-2 text-sm text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg placeholder-gray-500 dark:placeholder-gray-400 transition-all duration-200;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.datatable-input::placeholder {
  @apply text-gray-400 dark:text-gray-500;
}

.datatable-input:hover {
  @apply border-gray-400 dark:border-gray-500 shadow-md;
}

.datatable-input:focus {
  @apply outline-none ring-2 ring-blue-400 ring-offset-0 border-blue-400 shadow-lg;
}

.dark .datatable-input:focus {
  @apply ring-blue-500 border-blue-500;
}

/* Datatable sorter buttons */
.datatable-sorter {
  @apply w-full text-left px-0 py-0 font-semibold bg-transparent border-0 cursor-pointer transition-colors;
  color: #2563eb !important;
}

.dark .datatable-sorter {
  color: #60a5fa !important;
}

.datatable-sorter:hover {
  color: #1d4ed8 !important;
}

.dark .datatable-sorter:hover {
  color: #93c5fd !important;
}

.datatable-sorter:focus {
  @apply outline-none;
}

/* Datatable sorter arrows for dark theme */
.dark .datatable-sorter::before,
.dark .datatable-sorter::after {
  border-left-color: transparent;
  border-right-color: transparent;
}

.dark .datatable-sorter::before {
  border-top-color: #60a5fa;
}

.dark .datatable-sorter::after {
  border-bottom-color: #60a5fa;
  border-top-color: transparent;
}

/* Light theme sorter arrows - make them blue */
.datatable-sorter::before {
  border-top-color: #2563eb;
}

.datatable-sorter::after {
  border-bottom-color: #2563eb;
}

/* Datatable header styling */
.datatable-table th[data-sortable='true'] {
  @apply bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 px-4 py-3;
}

/* Datatable cell styling */
.datatable-table td {
  padding: 0.75rem 1rem;
  border-bottom: 1px solid rgb(229 231 235);
}

.dark .datatable-table td {
  border-bottom-color: rgb(55 65 81);
}

.datatable-table tbody tr {
  transition: background-color 0.2s ease;
}

.datatable-table tbody tr:hover {
  background-color: rgb(249 250 251);
}

.dark .datatable-table tbody tr:hover {
  background-color: rgb(31 41 55);
}

/* Responsive table wrapper */
.datatable-container {
  width: 100%;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

.datatable-table {
  width: 100%;
  table-layout: auto;
}

/* Responsive table on mobile */
@media (max-width: 768px) {
  .datatable-table {
    font-size: 0.75rem;
  }

  .datatable-table th,
  .datatable-table td {
    padding: 0.5rem;
  }

  .datatable-top {
    flex-direction: column;
    gap: 0.5rem !important;
  }

  .datatable-search {
    width: 100% !important;
  }

  .datatable-dropdown {
    width: 100%;
    display: flex;
    justify-content: space-between;
  }

  .datatable-pagination {
    font-size: 0.75rem;
  }
}
