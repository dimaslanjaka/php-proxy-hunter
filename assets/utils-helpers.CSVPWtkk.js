import{b as t}from"./proxy.TjVhGWNf.js";const e=!1,n="/php-proxy-hunter/";function a(t){let e;try{e=new URL(t)}catch(n){return!1}return"http:"===e.protocol||"https:"===e.protocol}function o(t,e={},a){let o=window.location.origin,s="";s=n.endsWith("/")?n.slice(0,-1):n,t.endsWith("/")&&(t+="index.html"),t.includes(".php")&&(alert("VITE_BACKEND_HOSTNAME_DEV or VITE_BACKEND_HOSTNAME_PROD is not defined; falling back to window.location.hostname"),o=`${window.location.protocol}//${window.location.hostname}`,s=""),!t.includes(".php")&&s&&(t=s+(t.startsWith("/")?t:"/"+t));const r=new URL(t,o);Object.keys(e).forEach(t=>{r.searchParams.append(t,String(e[t]))});return r.toString()}async function s(){return(await t.get(o("/php_backend/user-info.php"))).data}async function r(e=1,n=20){return(await t.get(o("/php_backend/logs.php"),{params:{page:e,per_page:n,me:1}})).data}async function i(){return(await t.get(o("/php_backend/list-user.php"))).data}async function c(e,n){return(await t.post(o("/php_backend/refill-saldo.php"),{user:e,amount:n})).data}async function p(e,n){return(await t.post(o("/php_backend/refill-saldo.php"),{user:e,amount:n,set:!0})).data}const l=[];let u=!1;function d(e={}){if(!u){u=!0;const n=l.shift();if(!n)return void(u=!1);const a="string"==typeof n?{url:n}:n,o=Object.assign({},e,a),s={timeout:5e3,validateStatus:()=>!0,withCredentials:Boolean(o.includeCredentials)},r=(o.method||"GET").toString().toUpperCase();let i;if("POST_JSON"===r)s.headers=Object.assign({},s.headers,{"Content-Type":"application/json"}),i=t.post(a.url,o.data||{},s);else if("POST_FORM"===r){s.headers=Object.assign({},s.headers,{"Content-Type":"application/x-www-form-urlencoded"});let e=o.data||"";!e||"object"!=typeof e||e instanceof URLSearchParams||(e=new URLSearchParams(e).toString()),i=t.post(a.url,e,s)}else i=t.get(a.url,s);i.catch(()=>{h(a)}).finally(()=>{u=!1,l.length>0&&d(e)})}}function h(t,e={}){const n="string"==typeof t?Object.assign({url:t},e):t||{},a=t=>{try{return`${t.url}|${(t.method||"GET").toString().toUpperCase()}|${JSON.stringify(t.data||"")}|${Boolean(t.includeCredentials)}`}catch(e){return`${t.url}|${(t.method||"GET").toString().toUpperCase()}|[unserializable]|${Boolean(t.includeCredentials)}`}},o=a(n);l.some(t=>a("string"==typeof t?{url:t}:t)===o)||l.push(n)}function f(t){const e=new Date(t);if(isNaN(e.getTime()))return t;const n=(new Date).getTime()-e.getTime(),a=Math.floor(n/1e3),o=Math.floor(a/60),s=Math.floor(o/60),r=Math.floor(s/24),i=s%24,c=o%60,p=a%60;let l="";return r>0&&(l+=r+" day"+(1===r?"":"s")+" "),i>0&&(l+=i+" hour"+(1===i?"":"s")+" "),c>0&&(l+=c+" minute"+(1===c?"":"s")+" "),p>0&&(l+=p+" second"+(1===p?"":"s")+" "),l+="ago",l}function g(...t){}export{a,r as b,o as c,c as d,i as e,h as f,s as g,e as i,g as n,d as r,p as s,f as t};
