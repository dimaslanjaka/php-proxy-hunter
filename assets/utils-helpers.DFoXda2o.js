import{b as e}from"./proxy.DgsyWMco.js";const t=!1,n="/php-proxy-hunter/";function r(e){let t;try{t=new URL(e)}catch(n){return!1}return"http:"===t.protocol||"https:"===t.protocol}function a(e,t={},r){let a=window.location.origin,o="";if(o=n.endsWith("/")?n.slice(0,-1):n,e.endsWith("/")&&(e+="index.html"),e.includes(".php")){const e="sh.webmanajemen.com";a=`${window.location.protocol}//${e}`,o=""}!e.includes(".php")&&o&&(e=o+(e.startsWith("/")?e:"/"+e));const s=new URL(e,a);Object.keys(t).forEach(e=>{s.searchParams.append(e,String(t[e]))});return s.toString()}async function o(){return(await e.get(a("/php_backend/user-info.php"))).data}async function s(t=1,n=20){return(await e.get(a("/php_backend/logs.php"),{params:{page:t,per_page:n,me:1}})).data}async function c(){return(await e.get(a("/php_backend/list-user.php"))).data}async function i(t,n){return(await e.post(a("/php_backend/refill-saldo.php"),{user:t,amount:n})).data}async function p(t,n){return(await e.post(a("/php_backend/refill-saldo.php"),{user:t,amount:n,set:!0})).data}const l={},u=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),a=n?.nonce||n?.getAttribute("nonce");r=e(t.map(e=>{if((e=function(e){return"/php-proxy-hunter/"+e}(e))in l)return;l[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,a&&r.setAttribute("nonce",a),document.head.appendChild(r),t?new Promise((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})};function d(e){return null==e||("string"==typeof(t=e)||t instanceof String)&&0===e.trim().length||Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length;var t}const h=[];let f=!1;function m(t={}){if(!f){f=!0;const n=h.shift();if(!n)return void(f=!1);const r="string"==typeof n?{url:n}:n,a=Object.assign({},t,r),o={timeout:5e3,validateStatus:()=>!0,withCredentials:Boolean(a.includeCredentials)},s=(a.method||"GET").toString().toUpperCase();let c;if("POST_JSON"===s)o.headers=Object.assign({},o.headers,{"Content-Type":"application/json"}),c=e.post(r.url,a.data||{},o);else if("POST_FORM"===s){o.headers=Object.assign({},o.headers,{"Content-Type":"application/x-www-form-urlencoded"});let t=a.data||"";!t||"object"!=typeof t||t instanceof URLSearchParams||(t=new URLSearchParams(t).toString()),c=e.post(r.url,t,o)}else c=e.get(r.url,o);c.catch(()=>{y(r)}).finally(()=>{f=!1,h.length>0&&m(t)})}}function y(e,t={}){const n="string"==typeof e?Object.assign({url:e},t):e||{},r=e=>{try{return`${e.url}|${(e.method||"GET").toString().toUpperCase()}|${JSON.stringify(e.data||"")}|${Boolean(e.includeCredentials)}`}catch(t){return`${e.url}|${(e.method||"GET").toString().toUpperCase()}|[unserializable]|${Boolean(e.includeCredentials)}`}},a=r(n);h.some(e=>r("string"==typeof e?{url:e}:e)===a)||h.push(n)}function g(e,t=!1,n=!1){const r=new Date(e);if(isNaN(r.getTime()))return e;const a=(new Date).getTime()-r.getTime(),o=Math.floor(a/1e3),s=Math.floor(o/60),c=Math.floor(s/60),i=Math.floor(c/24),p=c%24,l=s%60,u=o%60,d=(e,t,r)=>n?e+r+" ":e+" "+t+(1===e?"":"s")+" ";let h="";return i>0&&(h+=d(i,"day","d"),p>0&&(h+=d(p,"hour","h")),t)?(h+="ago",h):(0===i&&p>0&&(h+=d(p,"hour","h")),l>0&&!(t&&i>0)&&(h+=d(l,"minute","m"),0===i&&0===p&&u>0&&(h+=d(u,"second","s"))),0===i&&0===p&&0===l&&u>0&&(h+=d(u,"second","s")),h+="ago",h)}function w(...e){}const b=new Map,S=new Map;async function j(e){if(!e)return!1;if(b.has(e))return b.get(e);if(S.has(e))return S.get(e);const t=(async()=>{try{const t=await fetch(a("/php_backend/recaptcha.php"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`g-recaptcha-response=${encodeURIComponent(e)}`}),n=await t.json(),r=!(!n||!n.success);return b.set(e,r),r}catch(t){return console.error("[ProxyList] verifyRecaptchaToken error",t),b.set(e,!1),!1}finally{S.delete(e)}})();return S.set(e,t),t}async function T(){try{const e=await fetch(a("/php_backend/recaptcha.php"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"status=1"}),t=await e.json();return!(!t||"boolean"!=typeof t.success)&&!t.success}catch(e){return console.error("[ProxyList] checkRecaptchaSessionExpired error",e),!1}}export{u as _,r as a,s as b,a as c,d,i as e,c as f,o as g,T as h,t as i,y as j,w as n,m as r,p as s,g as t,j as v};
