import{r as e,R as t,j as r,d as a,e as s,u as l,f as n,b as o,c as i,M as d,T as c,g as x}from"./proxy.DgsyWMco.js";import{u as m,C as u,L as g,s as h,D as b,P as p}from"./components.9VdYmgE0.js";import{c as y,g as f,b as j,d as k,e as w,s as N,f as v,n as S,h as _,j as C,r as P,t as F,v as A}from"./utils-helpers.DFoXda2o.js";const L=()=>{const s=e.useRef(null),[l,n]=t.useState(""),[o,i]=t.useState("");return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900 mt-4",children:r.jsxs(a,{ref:s,debug:!1,className:"bg-white dark:bg-gray-800 p-8 rounded shadow-md w-full max-w-md",onSave:e=>console.log("Saved field:",e.getAttribute("name")),children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-blue-600 dark:text-white",children:"Settings with Auto-Save"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block mb-1 text-gray-700 dark:text-gray-200",htmlFor:"username",children:"Username"}),r.jsx("input",{id:"username",type:"text",name:"username",value:l,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300",placeholder:"Enter username"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block mb-1 text-gray-700 dark:text-gray-200",htmlFor:"email",children:"Email"}),r.jsx("input",{id:"email",type:"email",name:"email",value:o,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300",placeholder:"Enter email"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block mb-1 text-gray-700 dark:text-gray-200",htmlFor:"password",children:"Password"}),r.jsx("input",{id:"password",type:"password",name:"password","no-save":"true",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300",placeholder:"Enter password (not saved)"})]}),r.jsx("button",{type:"submit",onClick:async e=>{e.preventDefault();try{console.log("Form submitted successfully"),s.current?.clearForm()}catch(t){console.error("Form submission failed:",t)}},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded",children:"Save Changes"})]})})},T=()=>{const{formRef:e,clearForm:a}=s({debug:!1,storagePrefix:"/contact-form"}),[l,n]=t.useState(!1);return r.jsxs("div",{className:"max-w-md mx-auto mt-8 p-6 bg-white dark:bg-gray-800 rounded shadow-md",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-blue-600 dark:text-white",children:"Contact Form"}),l?r.jsxs("div",{className:"text-center text-green-600",children:[r.jsx("p",{children:"Thank you! Your message has been sent."}),r.jsx("button",{onClick:()=>n(!1),className:"mt-4 text-blue-600 hover:underline",children:"Send another message"})]}):r.jsxs("form",{ref:e,onSubmit:async e=>{e.preventDefault();const t=new FormData(e.currentTarget);try{console.log("Contact form submitted:",Object.fromEntries(t)),n(!0),a()}catch(r){console.error("Submission failed:",r)}},children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block mb-1 text-gray-700 dark:text-gray-200",htmlFor:"contact-name",children:"Name"}),r.jsx("input",{id:"contact-name",type:"text",name:"name",required:!0,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300",placeholder:"Your name"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block mb-1 text-gray-700 dark:text-gray-200",htmlFor:"contact-email",children:"Email"}),r.jsx("input",{id:"contact-email",type:"email",name:"email",required:!0,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300",placeholder:"your@email.com"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block mb-1 text-gray-700 dark:text-gray-200",htmlFor:"contact-subject",children:"Subject"}),r.jsxs("select",{id:"contact-subject",name:"subject",required:!0,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300",children:[r.jsx("option",{value:"",children:"Select Subject"}),r.jsx("option",{value:"general",children:"General Inquiry"}),r.jsx("option",{value:"support",children:"Technical Support"}),r.jsx("option",{value:"feedback",children:"Feedback"}),r.jsx("option",{value:"bug",children:"Bug Report"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block mb-1 text-gray-700 dark:text-gray-200",htmlFor:"contact-message",children:"Message"}),r.jsx("textarea",{id:"contact-message",name:"message",rows:4,required:!0,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300",placeholder:"Your message..."})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("label",{className:"flex items-center text-gray-700 dark:text-gray-200",children:[r.jsx("input",{type:"checkbox",name:"newsletter",className:"mr-2"}),"Subscribe to our newsletter"]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded",children:"Send Message"}),r.jsx("button",{type:"button",onClick:a,className:"bg-gray-500 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded",children:"Clear Draft"})]})]})]})},I=()=>{const{formRef:e,saveForm:a}=s({debug:!0}),[l,n]=t.useState([{id:1,name:"",description:""}]);return r.jsxs("div",{className:"max-w-lg mx-auto mt-8 p-6 bg-white dark:bg-gray-800 rounded shadow-md",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-blue-600 dark:text-white",children:"Dynamic Form Example"}),r.jsxs("form",{ref:e,children:[l.map((e,t)=>r.jsxs("div",{className:"mb-4 p-4 border rounded bg-gray-50 dark:bg-gray-700",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("h3",{className:"font-semibold text-gray-700 dark:text-gray-200",children:["Item ",t+1]}),l.length>1&&r.jsx("button",{type:"button",onClick:()=>{return t=e.id,void n(e=>e.filter(e=>e.id!==t));var t},className:"text-red-600 hover:text-red-800",children:"Remove"})]}),r.jsx("div",{className:"mb-2",children:r.jsx("input",{type:"text",name:`item_${e.id}_name`,placeholder:"Item name",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300"})}),r.jsx("div",{children:r.jsx("textarea",{name:`item_${e.id}_description`,placeholder:"Item description",rows:2,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300"})})]},e.id)),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{n(e=>[...e,{id:Date.now(),name:"",description:""}])},className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded",children:"Add Item"}),r.jsx("button",{type:"button",onClick:a,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded",children:"Save Draft"})]})]}),r.jsx("p",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:"This form automatically saves your input as you type. Try refreshing the page!"})]})},E=()=>r.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-12",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"React Form Saver Demo"}),r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-3xl mx-auto",children:"Demonstration of automatic form saving functionality. All form values are automatically saved to localStorage and restored when you refresh the page or navigate back."})]}),r.jsxs("section",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"1. Settings Form (Component Example)"}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Using the ",r.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded",children:"ReactFormSaver"})," component wrapper"]})]}),r.jsx(L,{})]}),r.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),r.jsxs("section",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"2. Contact Form (Hook Example)"}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Using the ",r.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded",children:"useFormSaver"})," hook for more control"]})]}),r.jsx(T,{})]}),r.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),r.jsxs("section",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"3. Dynamic Form (Advanced Example)"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Demonstrating auto-save with dynamically added/removed form fields"})]}),r.jsx(I,{})]}),r.jsx("div",{className:"text-center pt-12 border-t border-gray-200 dark:border-gray-700",children:r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Try filling out the forms above and refreshing the page to see the auto-save functionality in action!"})})]});function R(){const{showSnackbar:e}=m();return r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 p-8 gap-4",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:"Snackbar Sample"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",onClick:()=>e({message:"Default notification!"}),children:"Show Default"}),r.jsx("button",{className:"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700",onClick:()=>e({message:"Success notification!",type:"success"}),children:"Show Success"}),r.jsx("button",{className:"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700",onClick:()=>e({message:"Danger notification!",type:"danger"}),children:"Show Danger"}),r.jsx("button",{className:"px-4 py-2 rounded bg-orange-500 text-white hover:bg-orange-600",onClick:()=>e({message:"Warning notification!",type:"warning"}),children:"Show Warning"}),r.jsx("button",{className:"px-4 py-2 rounded bg-purple-600 text-white hover:bg-purple-700",onClick:()=>{for(let t=1;t<=5;t++)e({message:`Stacked notification #${t}`,type:"default",duration:4e3})},children:"Show Stackable (5x)"})]})]})}const O=[{lang:"javascript",title:"JavaScript",code:"// Example: simple fetch wrapper\nasync function fetchJson(url) {\n  const res = await fetch(url);\n  if (!res.ok) throw new Error('Network error');\n  return res.json();\n}\n\nfetchJson('/api/status').then(console.log).catch(console.error);\n"},{lang:"typescript",title:"TypeScript",code:"type User = { id: number; name: string };\nconst users: User[] = [];\nfunction addUser(u: User) { users.push(u); }\n"},{lang:"python",title:"Python",code:"def greet(name):\n    return f\"Hello, {name}\"\n\nprint(greet('world'))\n"},{lang:"bash",title:"Bash",code:'#!/usr/bin/env bash\necho "Starting..."\nls -la\n'},{lang:"powershell",title:"PowerShell",code:'Write-Output "Hello from PowerShell"\nGet-Process | Select-Object -First 5\n'},{lang:"ruby",title:"Ruby",code:"puts 'hello'\n3.times { |i| puts i }\n"},{lang:"json",title:"JSON",code:'{\n  "name": "example",\n  "version": "1.0.0"\n}\n'},{lang:"css",title:"CSS",code:"body { font-family: system-ui; }\n.btn { background: #06f; color: white; padding: 8px 12px; }\n"},{lang:"scss",title:"SCSS",code:"$primary: #06f;\n.btn { background: $primary; }\n"},{lang:"xml",title:"HTML/XML",code:'<div class="card"><h1>Title</h1></div>\n'},{lang:"yaml",title:"YAML",code:"name: example\nversion: 1.0.0\n"},{lang:"markdown",title:"Markdown",code:"# Heading\n\nSome *italic* and **bold** text.\n"},{lang:"dos",title:"DOS / Batch",code:"@echo off\necho Hello from batch file\n"}];function U(){return r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-gray-900 dark:text-gray-100",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Highlight.js example"}),r.jsxs("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-300",children:["This page demonstrates the"," ",r.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded text-sm",children:"CodeBlock"})," component with several languages."]}),O.map(e=>r.jsxs("section",{className:"mb-6 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:e.title||e.lang}),r.jsx(u,{language:e.lang,children:e.code})]},e.lang))]})})}const D=()=>r.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh] py-8 px-4",children:r.jsxs("div",{className:"flex flex-col items-center gap-2 bg-white dark:bg-gray-900 rounded-lg shadow-lg dark:shadow-white p-8 border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"text-6xl text-red-500 mb-2",children:r.jsx("i",{className:"fa-duotone fa-circle-exclamation"})}),r.jsx("h1",{className:"text-4xl font-bold text-gray-800 dark:text-white mb-1",children:"404"}),r.jsx("h2",{className:"text-xl text-gray-600 dark:text-gray-300 mb-2",children:"Page Not Found"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"The page you are looking for does not exist."}),r.jsxs(g,{href:"/",className:"inline-flex items-center gap-2 px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-blue-400",children:[r.jsx("i",{className:"fa-duotone fa-house"}),"Go to Home"]})]})}),M=()=>r.jsx(r.Fragment,{children:r.jsxs("div",{className:"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen",children:[r.jsx("section",{className:"relative bg-white dark:bg-gray-900",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"text-center py-20",children:[r.jsx("h1",{className:"text-4xl font-extrabold tracking-tight sm:text-5xl md:text-6xl text-gray-900 dark:text-gray-100",children:"Build Your Future"}),r.jsx("p",{className:"mt-6 text-lg sm:mt-8 sm:text-xl sm:max-w-2xl sm:mx-auto text-gray-700 dark:text-gray-300",children:"Discover the tools and insights to take your business to the next level. Join thousands of innovators today!"}),r.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row justify-center gap-4",children:[r.jsxs(g,{href:"/proxy-list",className:"px-8 py-3 border rounded-md text-lg font-medium hover:bg-opacity-75 flex items-center gap-2\n                  bg-blue-600 text-white border-blue-700\n                  dark:bg-blue-700 dark:text-white dark:border-blue-600",children:[r.jsx("i",{className:"fas fa-server"}),"Proxy Manager"]}),r.jsxs(g,{href:"/changelog",className:"px-8 py-3 border rounded-md text-lg font-medium hover:bg-opacity-75 flex items-center gap-2\n                  bg-green-100 text-green-900 border-green-300\n                  dark:bg-green-800 dark:text-green-100 dark:border-green-700",children:[r.jsx("i",{className:"fa-duotone fa-clock-rotate-left"}),"Changelog"]})]})]})})}),r.jsx("section",{className:"py-16 bg-gray-50 dark:bg-gray-800",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex justify-center items-center w-16 h-16 border rounded-full mx-auto bg-blue-600 dark:bg-blue-700 text-white",children:r.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h11M9 21V3m12 10H9m3 7h3m4 0h3m-4-4h3m-6 0h3M9 7h3m6 0h3"})})}),r.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Innovative Tools"}),r.jsx("p",{className:"mt-2 text-gray-700 dark:text-gray-300",children:"Access a range of tools to enhance productivity and achieve your goals faster."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex justify-center items-center w-16 h-16 border rounded-full mx-auto bg-blue-600 dark:bg-blue-700 text-white",children:r.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m5 4h-1v-6h-1m-4 6h1m-5-4h1m8-6H9m2-4H5m6 0h6"})})}),r.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Actionable Insights"}),r.jsx("p",{className:"mt-2 text-gray-700 dark:text-gray-300",children:"Gain insights that drive results and keep you ahead of the competition."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex justify-center items-center w-16 h-16 border rounded-full mx-auto bg-blue-600 dark:bg-blue-700 text-white",children:r.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.75 9.75l-1.5-1.5m0 0L8 8m3-3H5m6 0h6m-6 6h6m-6 6h6m6-6h-3m-6 6h3m-6-9H5m6 0h6"})})}),r.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Scalable Solutions"}),r.jsx("p",{className:"mt-2 text-gray-700 dark:text-gray-300",children:"Grow your business with flexible and scalable solutions tailored to your needs."})]})]})})}),r.jsx("section",{className:"py-16 bg-white dark:bg-gray-900",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[r.jsx("h2",{className:"text-3xl font-extrabold sm:text-4xl text-gray-900 dark:text-gray-100",children:"Ready to Transform Your Future?"}),r.jsx("p",{className:"mt-4 text-lg text-gray-700 dark:text-gray-300",children:"Start your journey today with our platform. It’s time to achieve the success you deserve."}),r.jsx("div",{className:"mt-8",children:r.jsx(g,{href:"#",className:"px-8 py-3 border rounded-md text-lg font-medium hover:bg-opacity-75 bg-blue-600 dark:bg-blue-700 text-white",children:"Get Started Now"})})]})})]})}),$=()=>{const{t:t}=l(),[a,s]=e.useState(""),[i,d]=e.useState(""),[c,x]=e.useState(!1),[m,u]=e.useState(""),[g,h]=e.useState(""),b={},p=n();e.useEffect(()=>{const e=y("/oauth/google");b.getAuthUrl||(b.getAuthUrl=!0,o.get(y("/php_backend/google-oauth.php",{redirect_uri:e,"google-auth-uri":!0})).then(e=>{h(e.data.auth_uri),console.log(e.data),document.querySelector("#google-login-button")?.removeAttribute("disabled")}).catch(e=>{console.error("Error fetching Google Auth URL:",e),b.getAuthUrl=!1,document.querySelector("#google-login-button")?.setAttribute("disabled","true")}))},[h]);return r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:r.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),!a||!i)return void u("Please enter both username and password.");const t=y("/php_backend/login.php");o.post(t,{username:a,password:i}).then(e=>{const t=e.data;t.success?p("/dashboard"):u(t.message||"Login failed. Please try again.")}).catch(e=>{console.error("Login error:",e),u(e.response?.data?.message||e.message||"An unexpected error occurred. Please try again later.")})},className:"bg-white dark:bg-gray-800 p-8 rounded shadow-md w-full max-w-md",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-blue-600 dark:text-white",children:"Login"}),m&&r.jsx("div",{className:"mb-4 text-red-500",children:m}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block mb-1 text-gray-700 dark:text-gray-200",htmlFor:"username",children:"Username"}),r.jsx("input",{id:"username",type:"text",value:a,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white",autoComplete:"username"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block mb-1 text-gray-700 dark:text-gray-200",htmlFor:"password",children:"Password"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx("input",{id:"password",type:c?"text":"password",value:i,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white",autoComplete:"current-password",style:{paddingRight:"2rem"}}),r.jsx("span",{onClick:()=>x(!c),style:{position:"absolute",right:"0.5rem",top:"50%",transform:"translateY(-50%)",cursor:"pointer",color:"#888",zIndex:2},children:r.jsx("i",{className:c?"fa fa-eye-slash":"fa fa-eye","aria-hidden":"true",style:{fontSize:"1.2rem"}})})]})]}),r.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded focus:outline-none focus:ring mb-4",children:"Login"}),r.jsxs("button",{id:"google-login-button",disabled:!g,"aria-label":"Login with Google",title:"Login with Google",type:"button",className:"w-full flex items-center justify-center bg-white border border-gray-300 hover:bg-gray-100 text-gray-700 font-semibold py-2 px-4 rounded focus:outline-none focus:ring dark:bg-gray-700 dark:text-white dark:border-gray-500 dark:hover:bg-gray-600",style:{marginTop:"8px"},onClick:()=>{g?window.location.href=g:alert(t("google_login_unavailable"))},children:[r.jsx("span",{className:"w-5 h-5 mr-2 fa-brands fa-google",style:{fontSize:"1.25rem"}}),"Login with Google"]})]})})})},H=()=>{const t=i(),[a,s]=e.useState("#");e.useEffect(()=>{(()=>{const e=h.resolveQueryUrl(window.location.href),t=e.url?.base64.decode||"";s(t),console.log(e)})()},[t.search]);const l=a&&/^https?:\/\//.test(a);return r.jsx(r.Fragment,{children:r.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen text-center px-4",children:r.jsx("div",{className:"max-w-lg w-full bg-white dark:bg-gray-900 rounded-lg shadow-lg dark:shadow-white p-8 border border-gray-200 dark:border-gray-800",children:l?r.jsxs(r.Fragment,{children:[r.jsx("h1",{className:"text-3xl font-extrabold mb-4 text-blue-700 dark:text-blue-400",children:"Leaving Site"}),r.jsx("p",{className:"mb-2 text-gray-700 dark:text-gray-300",children:"You are about to visit an external site. For your safety, please review the link below before proceeding."}),r.jsx("div",{className:"mb-4 p-2 bg-blue-50 dark:bg-gray-800 rounded break-all text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-700",children:a}),r.jsx("a",{href:a,className:"inline-block px-6 py-2 rounded bg-blue-600 dark:bg-blue-700 text-white font-semibold hover:bg-blue-700 dark:hover:bg-blue-800 transition",rel:"noopener noreferrer",target:"_blank",children:"Continue to site"}),r.jsx("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:"This link will open in a new tab. If you do not trust this link, you can safely close this page."})]}):r.jsxs(r.Fragment,{children:[r.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-600",children:"Invalid or Missing URL"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Please check the link and try again."})]})})})})},B=()=>{const e=i(),{t:a}=l(),[s,n]=t.useState(null),[d,c]=t.useState(!0),x=t.useRef(!1);return t.useEffect(()=>{if(x.current)return;x.current=!0;const t=new URLSearchParams(e.search),r=t.get("code"),s=t.get("state");if(!r)return n({success:!1,error:a("no_oauth_code")}),void c(!1);c(!0);const l=y("/oauth/google");o.post(y("/php_backend/google-oauth.php",{redirect_uri:l,"google-oauth-callback":r}),{code:r,state:s}).then(e=>{n(e.data),c(!1)}).catch(()=>{n({success:!1,error:a("oauth_failed")}),c(!1)})},[e]),r.jsx(r.Fragment,{children:r.jsx("div",{id:"oauth-handler",className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 p-8 rounded shadow-md dark:shadow-white w-full max-w-md text-center",children:d?r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-blue-600 dark:text-white",children:"Processing OAuth..."}),r.jsx("p",{className:"text-gray-700 dark:text-gray-200 mb-4",children:"Please wait while we log you in with Google."})]}):r.jsxs(r.Fragment,{children:[s?.success?r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-green-600 dark:text-green-400",children:"Login Successful!"}),r.jsxs("p",{className:"text-gray-700 dark:text-gray-200 mb-2",children:["Welcome",s.email?`, ${s.email}`:"","!"]})]}):r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-red-600 dark:text-red-400",children:"Login Failed"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-200 mb-2",children:s?.error||a("unknown_error")})]}),r.jsxs("div",{className:"flex flex-col gap-2 mt-4 sm:flex-row sm:justify-center sm:gap-4",children:[r.jsxs(g,{href:"/dashboard",className:`w-full sm:w-48 flex items-center justify-center px-4 py-2 rounded font-semibold shadow dark:shadow-white transition focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-50\n                    ${s&&!s.success?"bg-gray-300 text-gray-500 cursor-not-allowed pointer-events-none dark:bg-gray-700 dark:text-gray-400":"bg-blue-600 text-white hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600"}\n                  `,"aria-disabled":s&&!s.success,tabIndex:s&&!s.success?-1:0,children:["Go to Dashboard ",r.jsx("i",{className:"fal fa-arrow-right ml-1"})]}),r.jsxs(g,{href:"/login",className:"w-full sm:w-48 flex items-center justify-center px-4 py-2 rounded bg-gray-200 text-blue-700 font-semibold shadow hover:bg-gray-300 transition dark:bg-gray-700 dark:text-blue-300 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-50",children:[r.jsx("i",{className:"fal fa-arrow-left mr-1"})," Back to Login"]})]})]})})})})},J=()=>{const{t:e}=l(),[a,s]=t.useState(null),[n,o]=t.useState(!0),[i,d]=t.useState("");t.useEffect(()=>{let e=!0;return f().then(t=>{e&&(s(t),o(!1))}).catch(()=>{e&&(d("Failed to load user info."),o(!1))}),()=>{e=!1}},[]);const c=t.useMemo(()=>{if(!a)return"";const e=[a.first_name,a.last_name].filter(Boolean);return e.length?e.join(" "):a.username||a.email||"—"},[a]),x=t.useCallback(()=>{alert(e("recharge_points"))},[e]);return r.jsx("div",{className:"flex flex-col items-center justify-center m-4 transition-colors",children:r.jsxs("div",{className:"w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg dark:shadow-white p-8 transition-colors border border-gray-200 dark:border-gray-700 flex flex-col gap-10",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-6",children:"Dashboard"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/60 rounded-2xl p-6 flex flex-col items-start shadow-md dark:shadow-white border border-yellow-200 dark:border-yellow-800",children:r.jsxs("div",{className:"flex items-center gap-4 w-full",children:[r.jsx("span",{className:"fa-solid fa-wallet text-yellow-600 dark:text-yellow-300 text-3xl"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-200",children:e("points")}),r.jsx("div",{className:"text-3xl font-bold text-yellow-800 dark:text-yellow-100",children:n?"...":"number"==typeof a?.saldo?a.saldo:"—"}),r.jsx("button",{type:"button",onClick:x,className:"mt-5 w-full bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-400 dark:focus:ring-yellow-600 transition-all duration-200",children:e("recharge_points")})]})]})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/60 rounded-2xl p-6 shadow-md dark:shadow-white border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-300 mb-2",children:e("user_information")}),n?r.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"..."}):a?r.jsxs("div",{className:"space-y-2 text-gray-800 dark:text-gray-100",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[e("name"),": "]}),r.jsx("span",{children:c})]}),a.email&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[e("email"),": "]}),r.jsx("span",{children:a.email})]}),a.username&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[e("username"),": "]}),r.jsx("span",{children:a.username})]}),a.phone&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[e("phone"),": "]}),r.jsx("span",{children:a.phone})]})]}):r.jsx("div",{className:"text-red-500",children:i||e("no_user_found")})]})]})]})})};function z({logs:t,maxItems:a=50,className:s=""}){const[l,n]=e.useState(t??null),[o,i]=e.useState({}),[d,c]=e.useState(!t),[x,m]=e.useState(null);function u(e){let t=e.details;if("string"==typeof t)try{t=JSON.parse(t)}catch{}return t?.transaction_id??t?.trx??t?.trx_id??e?.transaction_id??e?.trx??e?.trx_id??void 0}return e.useEffect(()=>{if(t)return;let e=!0;return c(!0),(async()=>{try{const t=new Map,r=[];let a=1;const s=200;for(;e&&a<=s;){const s=await j(a);if(!e)return;if(k(s))break;if(s&&"logs"in s&&k(s.logs))break;const l=s?.logs??[];if(0===l.length)break;for(const e of l){const a=u(e),s=String(e.action_type??e.type??"").toLowerCase();if(!a){const t={tx:void 0,created_at:e.created_at};/buy|package/.test(s)&&(t.package_buy=e),/payment/.test(s)&&(t.payment=e),r.push(t);continue}const l=t.get(a)??{tx:a,created_at:e.created_at,package_buy:void 0,payment:void 0};/buy|package/.test(s)&&(l.package_buy=e),/payment/.test(s)&&(l.payment=e),(!l.created_at||e.created_at&&new Date(l.created_at).getTime()<new Date(e.created_at).getTime())&&(l.created_at=e.created_at),t.set(a,l)}const n=Number(s?.current_page??s?.page??a),o=Number(s?.last_page??s?.total_pages??0);if(o&&n>=o)break;a++}if(!e)return;const l=[...t.values(),...r];l.sort((e,t)=>new Date(t.created_at||0).getTime()-new Date(e.created_at||0).getTime()),n(l)}catch(t){if(!e)return;m(String(t))}finally{e&&c(!1)}})(),()=>{e=!1}},[t]),d?r.jsx("div",{className:s,children:r.jsx("p",{className:"text-sm text-gray-500",children:"Loading payment logs…"})}):x?r.jsx("div",{className:s,children:r.jsxs("p",{className:"text-sm text-red-500",children:["Error loading logs: ",x]})}):l&&0!==l.length?r.jsx("div",{className:`${s} w-full`,role:"list","aria-label":"User payment logs",children:l.filter(e=>e.package_buy||e.payment).slice(0,a).filter(e=>{const t=e.package_buy,r=e.payment,a=t?.action_type.toUpperCase(),s=r?.action_type.toUpperCase();return"PAYMENT"===s||"PACKAGE_BUY"===a}).map((e,t)=>{const a=e.package_buy,s=e.payment;const l=s?.amount??a?.amount??void 0,n=e.created_at??s?.created_at??a?.created_at,d=e.tx??`${a?.id??s?.id??`no-tx-${t}`}`;return r.jsxs("div",{role:"listitem",className:"mb-3 bg-white dark:bg-gray-800 rounded-md shadow-sm dark:shadow-white overflow-hidden",children:[r.jsxs("div",{className:"px-3 py-2 flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-xs text-gray-600",children:"TX"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-100 truncate",children:d}),(()=>{const e=function(){const e=s?.details??a?.details??s??a??null;if(!e)return null;let t=e;if("string"==typeof t)try{t=JSON.parse(t)}catch{}if("object"==typeof t){if(t.status)return String(t.status);if(t.payment_result){const e=t.payment_result;if(!0===e.error)return"error";if(!1===e.error&&e.message)return String(e.message);if(!1===e.error)return"successful"}if(!0===t.error)return"error";if(!1===t.error)return"successful"}return null}();return e?r.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Status"}),r.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-gray-100 dark:bg-gray-900 text-gray-700 dark:text-gray-200",children:e})]}):null})()]})]}),r.jsxs("div",{className:"flex-shrink-0 text-right",children:["number"==typeof l&&r.jsx("p",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:Math.round(l)}),n&&r.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:new Date(n).toLocaleString()})]})]}),r.jsxs("div",{className:"px-3 pb-3",children:[r.jsx("div",{className:"flex items-center justify-between text-[10px] text-gray-400 dark:text-gray-500 mb-1",children:r.jsxs("div",{className:"flex items-center gap-3",children:[a&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:"PACKAGE_BUY"}),r.jsx("button",{type:"button",className:"text-xs text-blue-600 dark:text-blue-400",onClick:()=>i(e=>({...e,[d]:{pkg:!e[d]?.pkg,pay:e[d]?.pay??!1}})),children:o[d]?.pkg?"Hide":"Show"})]}),s&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:"PAYMENT"}),r.jsx("button",{type:"button",className:"text-xs text-blue-600 dark:text-blue-400",onClick:()=>i(e=>({...e,[d]:{pay:!e[d]?.pay,pkg:e[d]?.pkg??!1}})),children:o[d]?.pay?"Hide":"Show"})]})]})}),o[d]?.pkg&&r.jsx("pre",{className:"text-xs text-gray-500 dark:text-gray-400 overflow-auto bg-gray-50 dark:bg-gray-900 p-2 rounded w-full whitespace-pre-wrap max-h-60 mb-2",children:JSON.stringify(a,null,2)}),o[d]?.pay&&r.jsx("pre",{className:"text-xs text-gray-500 dark:text-gray-400 overflow-auto bg-gray-50 dark:bg-gray-900 p-2 rounded w-full whitespace-pre-wrap max-h-60",children:JSON.stringify(s,null,2)})]})]},d)})}):r.jsx("div",{className:s,children:r.jsx("p",{className:"text-sm text-gray-500",children:"No payment activity found."})})}function Y(){const[e,a]=t.useState(!1),[s,l]=t.useState(!0),[n,o]=t.useState("content");return t.useEffect(()=>{let e=!0;return(async()=>{try{const t=await f();if(!e)return;t.error||!t.authenticated?window.location.href="/login":a(!0)}catch(t){window.location.href="/login"}finally{e&&l(!1)}})(),()=>{e=!1}},[]),s?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e?r.jsx(r.Fragment,{children:r.jsxs("div",{className:"w-full",children:[r.jsx("div",{className:"mb-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("ul",{className:"flex flex-wrap -mb-px text-sm font-medium text-center text-gray-500 dark:text-gray-400",role:"tablist",children:[r.jsx("li",{className:"me-2",role:"presentation",children:r.jsx("button",{type:"button",role:"tab","aria-controls":"user-information","aria-selected":"content"===n,className:"inline-block p-4 rounded-t-lg border-b-2 "+("content"===n?"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500 bg-gray-100 dark:bg-gray-800":"border-transparent hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300"),onClick:()=>o("content"),children:"User information"})}),r.jsx("li",{role:"presentation",children:r.jsx("button",{type:"button",role:"tab","aria-controls":"user-activity","aria-selected":"activity"===n,className:"inline-block p-4 rounded-t-lg border-b-2 "+("activity"===n?"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500 bg-gray-100 dark:bg-gray-800":"border-transparent hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300"),onClick:()=>o("activity"),children:"Activity"})})]})}),r.jsxs("div",{id:"dashboard-tabs-content",children:[r.jsx("div",{id:"user-information",role:"tabpanel","aria-labelledby":"user-information",className:""+("content"===n?"":"hidden"),children:r.jsx(J,{})}),r.jsx("div",{id:"user-activity",role:"tabpanel","aria-labelledby":"user-activity",className:""+("activity"===n?"":"hidden"),children:r.jsx(z,{className:"w-full px-2 sm:px-4 md:px-6 lg:px-8 transition-colors mt-4"})})]})]})}):null}const G=()=>{const{t:a}=l(),[s,n]=e.useState(""),[i,d]=e.useState(""),[c,x]=e.useState(""),[m,u]=e.useState(!1),[g,h]=e.useState(""),[b,p]=e.useState(""),[j,k]=e.useState(!1),[w,N]=e.useState(!0);t.useEffect(()=>{let e=!0;return(async()=>{try{const t=await f();if(!e)return;t.error||!t.authenticated?window.location.href="/login":(k(!0),n(t.username||""),d(t.email||""))}catch(t){window.location.href="/login"}finally{e&&N(!1)}})(),()=>{e=!1}},[a]);return w?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):j?r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900 mt-4",children:r.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),h(""),p(""),s&&i)try{const e={update:"1",username:s,email:i};c&&(e.password=c);const t=(await o.post(y("/php_backend/user-info.php"),e)).data;t&&t.success?(p(a("settings_profile_updated")),x("")):h(a("settings_failed_update_profile"))}catch(t){h(t.message||a("settings_failed_update_profile"))}else h(a("settings_fill_all_fields"))},className:"bg-white dark:bg-gray-800 p-8 rounded shadow-md dark:shadow-white w-full max-w-md",children:[r.jsxs("h2",{className:"text-2xl font-bold mb-6 text-center text-blue-600 dark:text-white flex items-center justify-center",children:[r.jsx("span",{className:"fa-light fa-user-gear mr-3 text-blue-500",style:{fontSize:"1.5rem"}}),a("settings_title")]}),g&&r.jsx("div",{className:"mb-4 text-red-500",children:g}),b&&r.jsx("div",{className:"mb-4 text-green-500",children:b}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block mb-1 text-gray-700 dark:text-gray-200",htmlFor:"username",children:a("settings_username_label")}),r.jsx("input",{id:"username",type:"text",name:"username",value:s,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white",autoComplete:"username"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block mb-1 text-gray-700 dark:text-gray-200",htmlFor:"email",children:a("settings_email_label")}),r.jsx("input",{id:"email",type:"email",name:"email",value:i,disabled:!0,className:"w-full px-3 py-2 border rounded bg-gray-200 dark:bg-gray-700 dark:text-white cursor-not-allowed opacity-70",autoComplete:"email"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block mb-1 text-gray-700 dark:text-gray-200",htmlFor:"password",children:a("settings_password_label")}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx("input",{id:"password",type:m?"text":"password",name:"password",value:c,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white",autoComplete:"new-password",placeholder:a("settings_password_placeholder"),style:{paddingRight:"2rem"}}),r.jsx("span",{onClick:()=>u(!m),style:{position:"absolute",right:"0.5rem",top:"50%",transform:"translateY(-50%)",cursor:"pointer",color:"#888",zIndex:2},children:r.jsx("i",{className:m?"fa fa-eye-slash":"fa fa-eye","aria-hidden":"true",style:{fontSize:"1.2rem"}})})]})]}),r.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded focus:outline-none focus:ring mb-4",children:a("settings_save_changes")}),r.jsx("button",{type:"button",onClick:()=>{alert(a("settings_redirect_buy_saldo"))},className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded focus:outline-none focus:ring",children:a("settings_buy_saldo")})]})})}):null},q=()=>r.jsx(r.Fragment,{children:r.jsx("main",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-8 max-w-2xl mx-auto",children:r.jsxs("section",{className:"w-full bg-white dark:bg-gray-900 rounded-lg shadow-lg dark:shadow-white p-6 md:p-10 border border-gray-200 dark:border-gray-700",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-900 dark:text-white text-center",children:"About PHP Proxy Hunter"}),r.jsxs("p",{className:"mb-6 text-center text-gray-700 dark:text-gray-300",children:[r.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"PHP Proxy Hunter"})," is a cross-platform toolkit for proxy checking, hunting, and extraction.",r.jsx("br",{}),"Built with PHP, Python, Node.js, and shell scripting.",r.jsx("br",{}),"It supports HTTP/HTTPS, SOCKS4/5 proxies, CIDR range scanning, open port scanning, and more.",r.jsx("br",{}),"The toolkit offers both web-based and CLI interfaces, supports multithreaded and single-threaded checking.",r.jsx("br",{}),"Compatible with Linux and Windows 10+."]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-white",children:"Key Features"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-left text-gray-700 dark:text-gray-300",children:[r.jsx("li",{children:"Proxy checker, hunter, and extractor"}),r.jsx("li",{children:"CIDR range and open port scanner"}),r.jsx("li",{children:"HTTP/HTTPS, SOCKS4/5 support"}),r.jsx("li",{children:"Web and CLI interfaces"}),r.jsx("li",{children:"Multithreaded and single-threaded operation"}),r.jsx("li",{children:"WhatsApp Bot proxy manager (Ubuntu 20.x)"}),r.jsx("li",{children:"Cross-platform: Linux & Windows 10+"}),r.jsx("li",{children:"PHP, Python, Bash, Batch support"})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Live Demo:"})," ",r.jsx(g,{href:"/proxy",className:"text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-200 transition-colors",target:"_blank",rel:"noopener noreferrer",children:"Proxy Manager Web UI"})]}),r.jsxs("div",{className:"w-full text-center text-sm text-gray-500 dark:text-gray-400",children:[r.jsx("div",{className:"mb-1 font-semibold text-gray-900 dark:text-white",children:"Author:"}),r.jsx("div",{className:"mb-1 text-gray-900 dark:text-white",children:"L3n4r0x"}),r.jsx("div",{className:"mb-1",children:r.jsx("a",{href:"https://www.webmanajemen.com",className:"text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-200 transition-colors",target:"_blank",rel:"noopener noreferrer",children:"webmanajemen.com"})}),r.jsx("div",{children:r.jsx("a",{href:"mailto:superuser@webmanajemen.com",className:"text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-200 transition-colors",children:"superuser@webmanajemen.com"})})]})]})})}),W=()=>r.jsx(r.Fragment,{children:r.jsx("main",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-8 max-w-2xl mx-auto",children:r.jsxs("section",{className:"w-full bg-white dark:bg-gray-900 rounded-lg shadow-lg dark:shadow-white p-6 md:p-10 border border-gray-200 dark:border-gray-700",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-900 dark:text-white text-center",children:"Contact"}),r.jsx("p",{className:"mb-6 text-center text-gray-700 dark:text-gray-300",children:"For questions, feedback, or support regarding PHP Proxy Hunter, please use the contact information below."}),r.jsxs("div",{className:"w-full text-center text-sm text-gray-500 dark:text-gray-400",children:[r.jsx("div",{className:"mb-1 font-semibold text-gray-900 dark:text-white",children:"Author:"}),r.jsx("div",{className:"mb-1 text-gray-900 dark:text-white",children:"L3n4r0x"}),r.jsx("div",{className:"mb-1",children:r.jsx("a",{href:"https://www.webmanajemen.com",className:"text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-200 transition-colors",target:"_blank",rel:"noopener noreferrer",children:"webmanajemen.com"})}),r.jsx("div",{children:r.jsx("a",{href:"mailto:superuser@webmanajemen.com",className:"text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-200 transition-colors",children:"superuser@webmanajemen.com"})})]})]})})}),K="w-x7LG_markdown";let X=null;function V(){const{t:e}=l(),[a,s]=t.useState(null),[n,o]=t.useState(null),[i,c]=t.useState(1),[x,m]=t.useState(!1),[u,g]=t.useState(0),[h,b]=t.useState(!1),p=30;t.useEffect(()=>{if(!a){const t=localStorage.getItem("gitHistoryFirstPage");if(t)try{const e=JSON.parse(t);Array.isArray(e)&&e.length>0&&s(e)}catch{o(e("failed_parse_git_history"))}}f().then(e=>{b(e?.admin||!1)})},[]),t.useEffect(()=>{let t=!1;m(!0);if(0===u&&X){s(X);try{localStorage.setItem("gitHistoryFirstPage",JSON.stringify(X.slice(0,p)))}catch{o(e("failed_update_git_history"))}m(!1)}else(async()=>{try{const r=y("/data/git-history.json",{v:"2c5611b6"}),a=await fetch(r,{headers:void 0}),l=await a.json();if(!t){console.log(l.slice(0,5)),s(l),X=l;try{localStorage.setItem("gitHistoryFirstPage",JSON.stringify(l.slice(0,p)))}catch{o(e("failed_update_git_history"))}}}catch(r){t||o(r.message)}finally{t||m(!1)}})();return()=>{t=!0}},[p,u]);const j=a?a.length:0,k=Math.ceil(j/p),w=a?a.slice((i-1)*p,i*p):[];return r.jsx(r.Fragment,{children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-8 text-center",children:[r.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center justify-center gap-2",children:[r.jsx("i",{className:"fa-duotone fa-code-branch text-blue-600 dark:text-blue-400"}),r.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:"Repository Progress"})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Explore the historical progress and key milestones of this repository. Each entry below represents a significant update, feature, or fix that has shaped the project."}),r.jsxs("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors disabled:opacity-50",onClick:()=>{X=null,s(null),o(null),m(!0),c(1),localStorage.removeItem("gitHistoryFirstPage"),g(e=>e+1)},disabled:x,"aria-label":"Refresh changelog",children:[r.jsx("i",{className:"fa-duotone fa-arrows-rotate mr-2"}),"Refresh"]})]}),n&&r.jsx("div",{className:"text-red-500 dark:text-red-400 text-center mb-4",children:n}),x&&r.jsxs("div",{className:"flex justify-center items-center py-8",children:[r.jsx("i",{className:"fa-duotone fa-spinner-third animate-spin text-2xl text-blue-600 dark:text-blue-400 mr-2"}),r.jsx("span",{className:"text-gray-500 dark:text-gray-300",children:"Loading git history..."})]}),a&&r.jsxs(r.Fragment,{children:[r.jsx("ol",{className:"relative border-l border-gray-200 dark:border-gray-700",children:w.map(e=>r.jsxs("li",{className:"mb-10 ml-6",children:[r.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full -left-4 ring-8 ring-white dark:ring-gray-900",children:r.jsx("i",{className:"fa-duotone fa-rocket-launch text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 md:gap-4",children:[r.jsx("h3",{className:"flex-1 text-lg font-semibold text-gray-900 dark:text-white",children:e.message.split("\n")[0]}),r.jsxs("div",{className:"flex flex-col md:items-end gap-1",children:[r.jsxs("span",{className:"flex items-center text-xs text-gray-400 dark:text-gray-300 font-mono",children:[r.jsx("i",{className:"fa-duotone fa-calendar-days mr-1"}),e.date?new Date(e.date).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""]}),r.jsxs("span",{className:"flex items-center text-xs text-gray-400 dark:text-gray-300 font-mono",children:[r.jsx("i",{className:"fa-duotone fa-hashtag mr-1"}),e.hash.substring(0,8)]})]})]}),r.jsx("div",{className:`prose dark:prose-invert mb-2 text-gray-400 dark:text-gray-300 ${K}`,children:r.jsx(d,{children:e.message.split("\n").slice(1).join("\n").trim()})}),h?r.jsx(r.Fragment,{children:e.files&&e.files.length>0?r.jsxs("div",{className:"mb-2",children:[r.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-300 mr-2",children:[r.jsx("i",{className:"fa-duotone fa-file-code mr-1"}),"Files changed:"]}),r.jsx("ul",{className:"list-disc list-inside text-xs text-gray-500 dark:text-gray-400 overflow-x-auto break-all max-w-full",children:e.files.map(e=>r.jsx("li",{className:"break-all max-w-full",children:e},e))})]}):r.jsx("div",{className:"mb-2",children:r.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-300 mr-2",children:[r.jsx("i",{className:"fa-duotone fa-file-code mr-1"}),"No files changed in this commit."]})})}):r.jsx("div",{className:"mb-2",children:r.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-300 mr-2",children:[r.jsx("i",{className:"fa-duotone fa-lock mr-1"}),"File changes are only visible to administrators."]})})]},e.hash))}),k>1&&r.jsx("nav",{className:"flex justify-center mt-8","aria-label":"Pagination",children:r.jsxs("ul",{className:"inline-flex -space-x-px text-sm",children:[r.jsx("li",{children:r.jsx("button",{className:"px-3 py-2 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",onClick:()=>c(1),disabled:1===i,"aria-label":"First page",children:r.jsx("i",{className:"fa-duotone fa-angles-left"})})}),[-1,0,1].map(e=>{const t=i+e;return t<1||t>k?null:r.jsx("li",{children:r.jsx("button",{className:"px-3 py-2 leading-tight border "+(t===i?"text-white bg-blue-600 border-blue-600 dark:bg-blue-700 dark:border-blue-700":"text-gray-500 bg-white border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"),onClick:()=>c(t),"aria-current":t===i?"page":void 0,children:t})},t)}),r.jsx("li",{children:r.jsx("button",{className:"px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",onClick:()=>c(k),disabled:i===k,"aria-label":"Last page",children:r.jsx("i",{className:"fa-duotone fa-angles-right"})})})]})})]})]})})}function Q(){const[e,a]=t.useState(null),[s,l]=t.useState(1),[n,o]=t.useState(!1),i=t.useRef(null);let d=!1;const c=t.useCallback(e=>{if(d)return;d=!0,o(!0);const t=y("/php_backend/logs.php",{page:e,per_page:50});fetch(t).then(e=>e.json()).then(e=>{JSON.stringify(e)!==JSON.stringify(i.current)&&(a(e),i.current=e)}).catch(e=>{console.error("Error fetching logs:",e)}).finally(()=>{o(!1),d=!1})},[]);t.useEffect(()=>{c(s)},[]);const x=e?.logs||[],m=["id"],u=t.useMemo(()=>{const e=new Set;return x.forEach(t=>{Object.keys(t).forEach(t=>e.add(t))}),Array.from(e).filter(e=>!m.includes(e))},[x]);return r.jsx("div",{className:"flex flex-col items-center justify-center m-4 transition-colors",children:r.jsxs("div",{className:"w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 transition-colors min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h1",{className:"text-2xl font-bold text-center flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[r.jsx("i",{className:"fa-duotone fa-clipboard-list text-green-500 dark:text-green-400"}),"Log Activity"]}),r.jsxs("button",{className:"ml-4 px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white text-xs font-semibold rounded transition-colors flex items-center gap-1",onClick:()=>c(s),disabled:n,title:"Refresh logs now",children:[r.jsx("i",{className:"fa fa-refresh"}),r.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]}),r.jsx("div",{className:"w-full max-w-full block relative overflow-x-auto max-h-[350px]",style:{WebkitOverflowScrolling:"touch"},children:r.jsxs("table",{className:"inline-table table-auto divide-y divide-gray-200 dark:divide-gray-700 box-border",children:[r.jsx("thead",{children:r.jsx("tr",{children:u.map(e=>r.jsx("th",{className:"sticky top-0 z-10 px-3 py-2 text-xs font-semibold text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-700 box-border",scope:"col",children:e.split("_").map(e=>"ip"===e.toLowerCase()?"IP":e.charAt(0).toUpperCase()+e.slice(1)).join(" ")},e))})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:u.length,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:"Loading logs..."})}):0===x.length?r.jsx("tr",{children:r.jsx("td",{colSpan:u.length,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:"No logs found."})}):x.map((e,t)=>r.jsx("tr",{children:u.map(t=>{const a=e[t],s="object"==typeof a&&null!==a,l="string"==typeof a&&a.length>120;return r.jsx("td",{className:"px-3 py-2 whitespace-pre-wrap text-xs text-gray-900 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700 max-w-[80ch] break-words box-border",children:"user_agent"===t&&a?r.jsx(b,{raw:String(a),showCopy:!1,previewLength:40,oneLinePreviewLength:40}):s?r.jsx(b,{raw:JSON.stringify(a)}):l?r.jsx(b,{raw:String(a)}):null!=a?String(a):""},t)})},`${e.id??"noid"}-${t}`))})]})}),r.jsx(p,{page:e?.page||1,perPage:e?.per_page||50,count:e?.count||0,onPageChange:e=>{l(e),c(e)}})]})})}const Z=({userId:t,currentSaldo:a,onSuccess:s})=>{const[n,o]=e.useState(""),[i,d]=e.useState(!1),[x,m]=e.useState(null),{t:u}=l();return r.jsxs("div",{children:[r.jsx("label",{htmlFor:"saldo",className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-200",children:u("add_point_label")}),r.jsx("input",{id:"saldo",type:"number",placeholder:u("add_point_hint"),className:"block w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-200 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 dark:focus:border-blue-400 dark:focus:ring-blue-900 focus:ring-opacity-50 transition-colors",value:n,onChange:e=>o(e.target.value),required:!0,min:"0",disabled:i||!t,autoComplete:"off"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:r.jsx(c,{i18nKey:"add_point_placeholder",components:[r.jsx("b",{},"b1"),r.jsx("b",{},"b2")]})}),r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[u("add_point_current")+" ",r.jsx("b",{className:"text-gray-900 dark:text-white",children:a}),". ",n&&!isNaN(parseFloat(n))?r.jsx(c,{i18nKey:"add_point_will",values:{newSaldo:a+parseFloat(n)},components:[r.jsx("b",{className:"text-blue-700 dark:text-blue-300"},"b")]}):u("add_point_hint")]}),r.jsxs("button",{type:"button",className:"mt-2 px-3 py-1 bg-green-600 dark:bg-green-700 text-white rounded-md hover:bg-green-700 dark:hover:bg-green-800 transition-colors text-sm font-semibold w-full flex items-center justify-center gap-2",disabled:i||!t||!n||isNaN(parseFloat(n)),onClick:async()=>{if(m(null),t){d(!0);try{await w(t,parseFloat(n)),s(),o("")}catch(e){m(e?.message||u("add_point_error"))}finally{d(!1)}}else m(u("add_point_select_user"))},children:[r.jsx("i",{className:"fa fa-plus"})," ",u(i?"saving":"add_point_button")]}),x&&r.jsx("div",{className:"text-xs text-red-500 dark:text-red-400",children:x})]})},ee=({userId:t,onSuccess:a})=>{const[s,n]=e.useState(""),[i,d]=e.useState(!1),[c,x]=e.useState(!1),[m,u]=e.useState(null),[g,h]=e.useState(null),{t:b}=l();return r.jsxs("div",{children:[r.jsx("label",{htmlFor:"edit-password",className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-200",children:b("edit_password_label")}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx("input",{id:"edit-password",type:i?"text":"password",className:"block w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-200 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 dark:focus:border-blue-400 dark:focus:ring-blue-900 focus:ring-opacity-50 transition-colors",value:s,onChange:e=>n(e.target.value),minLength:6,placeholder:b("password_placeholder"),disabled:c||!t,autoComplete:"off",style:{paddingRight:"2rem"}}),r.jsx("span",{onClick:()=>d(!i),style:{position:"absolute",right:"0.5rem",top:"50%",transform:"translateY(-50%)",cursor:"pointer",color:"#888",zIndex:2},children:r.jsx("i",{className:i?"fa fa-eye-slash":"fa fa-eye","aria-hidden":"true",style:{fontSize:"1.2rem"}})})]}),s&&s.length<6&&r.jsx("div",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-1",children:b("password_min_length")}),r.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:b("enter_new_password_hint")}),r.jsx("button",{type:"button",className:"mt-2 px-3 py-1 bg-green-600 dark:bg-green-700 text-white rounded-md hover:bg-green-700 dark:hover:bg-green-800 transition-colors text-sm font-semibold w-full flex items-center justify-center gap-2",disabled:c||!t||!s||s.length<6,onClick:async()=>{if(u(null),h(null),t&&s){x(!0);try{const e={update:"1",username:t,password:s},r=(await o.post(y("/php_backend/user-info.php"),e)).data;r&&r.success?(h(b("set_password_success")),n(""),a()):u(r?.error||b("set_password_error"))}catch(e){u(e?.message||b("set_password_error"))}finally{x(!1)}}},children:b(c?"saving":"set_password_button")}),m&&r.jsx("div",{className:"text-xs text-red-500 dark:text-red-400",children:m}),g&&r.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:g})]})},te=({userId:t,currentSaldo:a,onSuccess:s})=>{const[n,o]=e.useState(""),[i,d]=e.useState(!1),[x,m]=e.useState(null),{t:u}=l();return r.jsxs("div",{children:[r.jsx("label",{htmlFor:"edit-saldo",className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-200",children:u("set_point_label")}),r.jsx("input",{id:"edit-saldo",type:"number",className:"block w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-200 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 dark:focus:border-blue-400 dark:focus:ring-blue-900 focus:ring-opacity-50 transition-colors",value:n,onChange:e=>o(e.target.value),min:"0",placeholder:a.toString(),disabled:i||!t,autoComplete:"off"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:r.jsx(c,{i18nKey:"set_point_placeholder",values:{exampleRupiah:1e5},components:[r.jsx("b",{},"b")]})}),r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[u("current_saldo")+" ",r.jsx("b",{className:"text-gray-900 dark:text-white",children:a}),". ",n&&!isNaN(parseFloat(n))?r.jsx(c,{i18nKey:"saldo_will_change",values:{newSaldo:parseFloat(n)},components:[r.jsx("b",{className:"text-blue-700 dark:text-blue-300"},"b")]}):u("saldo_input_hint")]}),r.jsx("button",{type:"button",className:"mt-2 px-3 py-1 bg-green-600 dark:bg-green-700 text-white rounded-md hover:bg-green-700 dark:hover:bg-green-800 transition-colors text-sm font-semibold w-full flex items-center justify-center gap-2",disabled:i||!t||!n,onClick:async()=>{if(m(null),t){d(!0);try{await(async(e,t)=>N(e,t))(t,parseFloat(n)),o(""),s()}catch(e){m(e?.message||"Failed to set saldo.")}finally{d(!1)}}},children:u(i?"saving":"set_point_button")}),x&&r.jsx("div",{className:"text-xs text-red-500 dark:text-red-400",children:u("set_point_error")})]})};function re(){const{t:a}=l(),s=n(),[o,i]=e.useState([]),[d,c]=e.useState(null),[x,m]=e.useState(""),[u,g]=e.useState(null);function h(){if(!d)return 0;const e=o.find(e=>e.email===d);return e?e.saldo??0:0}t.useEffect(()=>{f().then(e=>{e&&!e.admin&&s("/")}).catch(()=>{g(a("failed_to_fetch_user_info"))});(async()=>{try{const e=await v();i(e),e&&e.length>0&&c(e[0].email||"")}catch(e){i([]),c(null)}})()},[]);return r.jsx("div",{className:"flex flex-col items-center justify-center m-4 transition-colors",children:r.jsxs("div",{className:"w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 transition-colors",children:[r.jsxs("h1",{className:"text-2xl font-bold mb-6 text-center flex items-center justify-center gap-2 text-blue-700 dark:text-blue-300",children:[r.jsx("i",{className:"text-yellow-500 dark:text-yellow-400 fa-duotone fa-coins"}),a("point_manager_title")]}),r.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),g(null),d)try{await w(d,parseFloat(x));try{const e=await v();i(e)}catch(t){g(a("failed_to_refresh_user_list"))}m("")}catch(r){g(r?.message||a("add_point_error"))}else g(a("add_point_select_user"))},className:"space-y-6",autoComplete:"off",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-stretch",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"user",className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-200",children:a("select_user_label")}),r.jsx("select",{id:"user",className:"block w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-200 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 dark:focus:border-blue-400 dark:focus:ring-blue-900 focus:ring-opacity-50 transition-colors",value:d??"",onChange:e=>c(e.target.value),disabled:0===o.length,autoComplete:"off",children:Array.isArray(o)&&0===o.length?r.jsx("option",{value:"",children:a("loading_users")}):Array.isArray(o)?o.map(e=>r.jsx("option",{value:e.email,children:e.email},e.email??e.id??e.username??e.first_name??Math.random())):r.jsx("option",{value:"",children:a("no_users_found")})})]}),r.jsx("div",{children:r.jsx(Z,{userId:d,currentSaldo:h(),onSuccess:async()=>{try{const e=await v();i(e)}catch(e){g("Failed to refresh user list.")}}})}),r.jsx("div",{children:r.jsx(ee,{userId:d,onSuccess:()=>{}})}),r.jsx("div",{children:r.jsx(te,{userId:d,currentSaldo:h(),onSuccess:async()=>{try{const e=await v();i(e)}catch(e){g("Failed to refresh user list.")}}})})]}),u&&r.jsx("div",{className:"mb-2 text-center text-red-600 dark:text-red-400 text-sm font-medium",children:u})]})]})})}function ae(){const[e,a]=t.useState(!1),[s,l]=t.useState(!0),[n,o]=t.useState(!1);return t.useEffect(()=>{let e=!0;return(async()=>{try{const t=await f();if(!e)return void console.log("Unmounted, aborting");console.debug("[Admin] getUserInfo response:",t),t.error||!t.authenticated?window.location.href="/login":(a(!0),o(!0===t.admin))}catch(t){window.location.href="/login"}finally{e&&l(!1)}})(),()=>{e=!1}},[]),s?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 dark:border-blue-300 bg-white dark:bg-gray-800 p-1 rounded-full"})}):e?n?r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:[r.jsx(re,{}),r.jsx(Q,{})]}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"max-w-md p-6 bg-white dark:bg-gray-800 rounded shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-gray-100",children:"Access denied"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"You do not have permission to view this page."})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"max-w-md p-6 bg-white dark:bg-gray-800 rounded shadow text-center",children:[r.jsx("h2",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-gray-100",children:"Not signed in"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"You need to sign in to access the admin area."}),r.jsx("a",{href:"/login",className:"inline-block px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded",title:"Login",children:"Sign in"})]})})}const se=()=>{const[a,s]=t.useState(!1),[l,n]=t.useState(!1),[i,d]=t.useState(null);return e.useEffect(()=>{o.get(y("/php_backend/logout.php")).then(e=>{const t=e.data;t&&!0===t.logout?d(!0):d(!1),s(!0)}).catch(()=>{n(!0),s(!0)})},[]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 transition-colors",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded shadow text-center transition-colors",children:[r.jsxs("h1",{className:"text-2xl font-bold mb-4 flex items-center justify-center gap-2 text-blue-700 dark:text-blue-300",children:[r.jsx("i",{className:"fal fa-sign-out-alt text-blue-600 dark:text-blue-300"}),"Logging out..."]}),!a&&!l&&r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"You are being logged out. Please wait."}),a&&!0===i&&r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"text-green-600 dark:text-green-400 mb-4 flex items-center justify-center gap-2",children:[r.jsx("i",{className:"fal fa-check-circle"}),"You have been logged out."]}),r.jsxs(g,{href:"/login",className:"text-blue-600 dark:text-blue-400 hover:underline font-semibold flex items-center gap-2",children:[r.jsx("i",{className:"fal fa-sign-in-alt"}),"Go to Login"]})]}),a&&!1===i&&r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"text-yellow-600 dark:text-yellow-400 mb-4 flex items-center justify-center gap-2",children:[r.jsx("i",{className:"fal fa-exclamation-triangle"}),"Logout response invalid. Please try again."]}),r.jsxs("a",{href:"/login",className:"text-blue-600 dark:text-blue-400 hover:underline font-semibold flex items-center gap-2",children:[r.jsx("i",{className:"fal fa-sign-in-alt"}),"Go to Login"]})]}),l&&r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"text-red-600 dark:text-red-400 mb-4 flex items-center justify-center gap-2",children:[r.jsx("i",{className:"fal fa-times-circle"}),"Logout failed. Please try again."]}),r.jsxs("a",{href:"/login",className:"text-blue-600 dark:text-blue-400 hover:underline font-semibold flex items-center gap-2",children:[r.jsx("i",{className:"fal fa-sign-in-alt"}),"Go to Login"]})]})]})})};function le(){const e='curl -X POST \\\n  -d "proxy=1.2.3.4:8080&type=http" \\\n  "'+y("/php_backend/proxy-checker.php")+'"',t='curl -X POST \\\n  -d "proxy=1.2.3.4:8080&type=http&username=myuser&password=mypass" \\\n  "'+y("/php_backend/proxy-checker.php")+'"';return r.jsx("section",{className:"my-8",children:r.jsxs("div",{className:"p-6 rounded-xl border border-blue-200 dark:border-blue-700 bg-gradient-to-br from-blue-50 to-white dark:from-blue-900/60 dark:to-gray-900 shadow-md dark:shadow-white transition-colors duration-300",children:[r.jsxs("h2",{className:"flex items-center gap-2 text-lg font-bold mb-3 text-blue-800 dark:text-blue-200",children:[r.jsx("i",{className:"fa-duotone fa-terminal"})," Proxy Checker API Usage"]}),r.jsx("p",{className:"mb-2 text-gray-700 dark:text-gray-200",children:"You can check a proxy programmatically using the following API endpoint:"}),r.jsx("div",{className:"mb-3",children:r.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded bg-blue-100 dark:bg-blue-800 text-blue-900 dark:text-blue-100 text-xs font-mono border border-blue-200 dark:border-blue-700",children:["POST",r.jsx("span",{className:"font-semibold",children:y("/php_backend/proxy-checker.php")})]})}),r.jsx("p",{className:"mb-1 text-gray-700 dark:text-gray-200 font-semibold",children:"Parameters (form-urlencoded):"}),r.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-200 text-sm mb-3 space-y-1",children:[r.jsxs("li",{children:[r.jsx("span",{className:"font-semibold",children:"proxy"})," ",r.jsx("span",{className:"text-xs text-blue-700 dark:text-blue-300",children:"(required)"}),": Proxy string (e.g.,"," ",r.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:"1.2.3.4:8080"}),")"]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-semibold",children:"type"})," ",r.jsx("span",{className:"text-xs text-blue-700 dark:text-blue-300",children:"(optional)"}),": Proxy type (",r.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:"http"}),","," ",r.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:"https"}),","," ",r.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:"socks4"}),","," ",r.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:"socks5"}),")"]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-semibold",children:"username"})," ",r.jsx("span",{className:"text-xs text-blue-700 dark:text-blue-300",children:"(optional)"}),": Username for proxy auth"]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-semibold",children:"password"})," ",r.jsx("span",{className:"text-xs text-blue-700 dark:text-blue-300",children:"(optional)"}),": Password for proxy auth"]})]}),r.jsxs("div",{className:"mb-2",children:[r.jsxs("p",{className:"mb-1 text-gray-700 dark:text-gray-200 font-semibold",children:["Example ",r.jsx("b",{children:"curl"})," request:"]}),r.jsx(u,{language:"bash",children:e}),r.jsxs("p",{className:"mb-1 mt-4 text-gray-700 dark:text-gray-200 font-semibold",children:["Example with ",r.jsx("b",{children:"username"})," and ",r.jsx("b",{children:"password"}),":"]}),r.jsx(u,{language:"bash",children:t})]}),r.jsxs("div",{children:[r.jsx("p",{className:"mb-1 text-gray-700 dark:text-gray-200 font-semibold",children:"Response:"}),r.jsx(u,{language:"json",children:'{\n  "error": false,\n  "message": "Proxy check is in progress. Please check back later.",\n  "logEmbedUrl": "...",\n  "statusEmbedUrl": "..."\n}'})]}),r.jsxs("p",{className:"mt-3 text-gray-600 dark:text-gray-300 text-xs",children:["Use the ",r.jsx("span",{className:"font-semibold",children:"logEmbedUrl"})," and"," ",r.jsx("span",{className:"font-semibold",children:"statusEmbedUrl"})," from the response to poll for log and status updates."]})]})})}const ne=()=>{const[e,a]=t.useState(!1),[s,l]=t.useState(""),[n,o]=t.useState(""),[i,d]=t.useState("log"),[c,x]=t.useState(""),[m,u]=t.useState("");t.useEffect(()=>{(async()=>{try{const e=await f();if(e&&e.uid){const t=e.uid;x(t);const r=y(`/php_backend/proxy-checker.php?id=${t}&type=log`);o(r)}else l("Failed to retrieve user ID for log.")}catch(e){l("Failed to retrieve user ID for log.")}})()},[]),t.useEffect(()=>{let e;if(n){const t=async()=>{try{const e=await fetch(n),t=await e.text();l(e=>e.trim()===t.trim()?e:t)}catch{l("Failed to fetch log.")}};t(),e=window.setInterval(t,3e3)}return()=>{e&&clearInterval(e)}},[n]),t.useEffect(()=>{let e;if("https"===i&&c){const t=async()=>{try{const e=await async function(e){const t=y("/php_backend/logs.php"),r=await fetch(`${t}?hash=check-https-proxy-${encodeURIComponent(e)}`);return r.ok?await r.text():`Failed to fetch https result: ${r.status} ${r.statusText}`}(c);u(t=>t.trim()===e.trim()?t:e)}catch{u("Failed to fetch https result.")}};t(),e=window.setInterval(t,3e3)}return()=>{e&&clearInterval(e)}},[i,c]);return r.jsx("section",{className:"my-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg dark:shadow-white border border-blue-200 dark:border-blue-700 p-6 transition-colors duration-300 flowbite-modal",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h2",{className:"text-lg font-bold text-blue-800 dark:text-blue-200 flex items-center gap-2",children:[r.jsx("i",{className:"fa-duotone fa-file-lines"})," Proxy Check Log"]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs("button",{type:"button",className:"inline-flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-blue-600 dark:text-blue-200 bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-700 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-800 transition disabled:opacity-50",onClick:async()=>{a(!0);try{if(await fetch(y("/php_backend/proxy-checker.php"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"resetLog=1"}),n){const e=await fetch(n),t=await e.text();l(t)}}catch{}a(!1)},"aria-label":"Reset log",disabled:e,children:[r.jsx("i",{className:"fa-duotone fa-rotate-left"})," Reset Log"]})})]}),r.jsx("div",{className:"mb-3",children:r.jsxs("ul",{className:"flex -mb-px text-sm font-medium text-center text-gray-500 dark:text-gray-400",role:"tablist",children:[r.jsx("li",{className:"mr-2",role:"presentation",children:r.jsx("button",{type:"button",role:"tab","aria-selected":"log"===i,className:"inline-block p-2 rounded-t-lg border-b-2 "+("log"===i?"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500 bg-gray-100 dark:bg-gray-800":"border-transparent hover:text-gray-600 dark:hover:text-gray-300"),onClick:()=>d("log"),children:"Checker Log"})}),r.jsx("li",{role:"presentation",children:r.jsx("button",{type:"button",role:"tab","aria-selected":"https"===i,className:"inline-block p-2 rounded-t-lg border-b-2 "+("https"===i?"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500 bg-gray-100 dark:bg-gray-800":"border-transparent hover:text-gray-600 dark:hover:text-gray-300"),onClick:()=>d("https"),children:"HTTPS check"})})]})}),r.jsxs("div",{className:""+("log"===i?"":"hidden"),children:[r.jsx("div",{className:"mb-2 text-xs text-gray-600 dark:text-gray-300 break-all",children:r.jsx("span",{className:"font-mono text-xs text-gray-700 dark:text-gray-300",children:n})}),r.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100 p-3 h-64 overflow-auto font-mono text-xs whitespace-pre-wrap transition-colors duration-300",children:e?r.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"Loading log..."}):s?r.jsx("span",{className:"text-gray-800 dark:text-gray-100",dangerouslySetInnerHTML:{__html:s}}):r.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"No log output yet."})})]}),r.jsxs("div",{className:""+("https"===i?"":"hidden"),children:[r.jsxs("div",{className:"mb-2 flex gap-2 items-center",children:[r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Automatic HTTPS check for UID:"}),r.jsx("span",{className:"font-mono text-sm text-gray-900 dark:text-gray-100",children:c||"—"})]}),r.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100 p-3 h-64 overflow-auto font-mono text-xs whitespace-pre-wrap transition-colors duration-300",children:m?r.jsx("span",{className:"text-gray-800 dark:text-gray-100",style:{whiteSpace:"pre-wrap"},children:m}):r.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"No https result fetched yet."})})]})]})})},oe=()=>{const[t,a]=e.useState(60),[s,n]=e.useState(!1),[o,i]=e.useState(null),[d,c]=e.useState(null),{t:x}=l();return r.jsx("section",{className:"my-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg dark:shadow-white border border-blue-200 dark:border-blue-700 p-6 transition-colors duration-300",children:[r.jsxs("h2",{className:"text-lg font-bold text-blue-800 dark:text-blue-200 flex items-center gap-2 mb-2",children:[r.jsx("i",{className:"fa-duotone fa-clock"})," Modify cURL Timeout in PHP"]}),r.jsxs("form",{onSubmit:async e=>{e.preventDefault(),n(!0),i(null),c(null);try{const e=await fetch(y("php_backend/proxy-checker.php"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`set_curl_timeout=${encodeURIComponent(t)}`}),r=await e.json().catch(()=>null);r&&!1===r.error&&r.message?i(r.message):r&&r.message?c(r.message):c(x("unknown_server_response"))}catch(r){c(x("failed_send_request"))}n(!1)},className:"flex flex-col gap-4 max-w-xs",children:[r.jsxs("label",{className:"flex flex-col gap-1",children:[r.jsx("span",{className:"text-gray-700 dark:text-gray-200 font-medium",children:"cURL Timeout (seconds):"}),r.jsx("input",{type:"number",min:1,max:120,value:t,onChange:e=>a(Number(e.target.value)),className:"border rounded px-2 py-1 dark:bg-gray-800 dark:text-gray-100 w-full",required:!0})]}),r.jsx("button",{type:"submit",className:"btn btn-primary px-4 py-2 rounded bg-blue-600 text-white font-semibold disabled:opacity-50",disabled:s,children:x(s?"saving":"set_timeout")})]}),o&&r.jsx("div",{className:"mt-4 text-green-700 dark:text-green-300 font-semibold",children:o}),d&&r.jsx("div",{className:"mt-4 text-red-700 dark:text-red-300 font-semibold",children:d}),r.jsxs("div",{className:"mt-6 text-xs text-gray-600 dark:text-gray-400",children:["This will update the ",r.jsx("code",{children:"CURLOPT_TIMEOUT"})," value in the backend for proxy checking. Applies to all future checks."]})]})})};function ie(e,t=!1){if(!e)return!1;if(e.includes("@"))try{let[r,a]=e.trim().split("@",2);e=r;let[s,l]=a.trim().split(":");if(t&&(!s||!l))return!1}catch(o){return!1}const r=e.trim().split(":",2);if(2!==r.length)return!1;const[a,s]=r;if(!function(e){return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)}(a)||!function(e){const t=Number(e);return!isNaN(t)&&t>=0&&t<=65535}(s))return!1;const l=parseInt(s,10);if(isNaN(l)||l<1||l>65535)return!1;const n=e.length;return!(n<7||n>21)}function de(e){if(!e||!e.trim())return[];const t=[];[...e.match(/((?:(?:\d{1,3}\.){3}\d{1,3}):\d{2,5}(?:@\w+:\w+)?|(?:\w+:\w+@(?:\d{1,3}\.){3}\d{1,3}:\d{2,5}))/g)||[],...Array.from(e.matchAll(/((?!0)\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})\s+((?!0)\d{2,5})/g)),...Array.from(e.matchAll(/"ip":"((?!0)\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})".*?"port":"((?!0)\d{2,5})"/g))].forEach(e=>{if("object"==typeof e&&2===e.length){const[r,a]=e,s=`${r}:${a}`;ie(s)&&t.push(s)}else t.push(e)});const r={};return t.forEach(e=>{if(e.includes("@")){const[t,a]=e.split("@");r[a]=e}else r[e]||(r[e]=e)}),Object.values(r)}class ce{constructor({proxy:e=null,latency:t=null,type:r=null,region:a=null,city:s=null,country:l=null,last_check:n=null,anonymity:o=null,status:i=null,timezone:d=null,longitude:c=null,private:x=null,latitude:m=null,lang:u=null,useragent:g=null,webgl_vendor:h=null,webgl_renderer:b=null,browser_vendor:p=null,username:y=null,password:f=null,id:j=null,https:k="false"}={}){this.id=j,this.proxy=e,this.latency=t,this.type=r,this.region=a,this.city=s,this.country=l,this.last_check=n,this.anonymity=o,this.status=i,this.timezone=d,this.longitude=c,this.private=x,this.latitude=m,this.lang=u,this.useragent=g,this.webgl_vendor=h,this.webgl_renderer=b,this.browser_vendor=p,this.username=y,this.password=f,this.https=k}toObject(){return{id:this.id,proxy:this.proxy,latency:this.latency,type:this.type,region:this.region,city:this.city,country:this.country,last_check:this.last_check,anonymity:this.anonymity,status:this.status,timezone:this.timezone,longitude:this.longitude,private:this.private,latitude:this.latitude,lang:this.lang,useragent:this.useragent,webgl_vendor:this.webgl_vendor,webgl_renderer:this.webgl_renderer,browser_vendor:this.browser_vendor,username:this.username,password:this.password,https:this.https}}toJSON(){return this.toObject()}toString(){return JSON.stringify(this.toObject())}}function xe(){const{t:e}=l(),[s,n]=t.useState(""),[o,i]=t.useState(""),[d,c]=t.useState(""),[x,m]=t.useState([]),u=t.useRef(null);return t.useEffect(()=>{(async function(){try{const e=await f();if(e&&e.uid)return y(`/php_backend/proxy-checker.php?id=${e.uid}&type=log`)}catch(e){}})().then(e=>{if(e){n(e);const t=e.replace("type=log","type=status");i(t)}}),u.current?.restoreForm();const e=document.querySelector('textarea[name="proxies"]');e&&e.value&&c(e.value)},[]),r.jsx("section",{className:"my-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg dark:shadow-white border border-blue-200 dark:border-blue-700 p-6 transition-colors duration-300 flowbite-modal",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h2",{className:"text-lg font-bold text-blue-800 dark:text-blue-200 flex items-center gap-2",children:[r.jsx("i",{className:"fa-duotone fa-paper-plane"})," Proxy Submission"]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs("button",{type:"button",className:"inline-flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-blue-600 dark:text-blue-200 bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-700 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-800 transition-colors",title:e("populate_with_sample_proxies"),onClick:()=>c("103.160.204.144:80\n103.160.204.144:80@username:password\nuser:pass@103.160.204.144:80"),children:[r.jsx("i",{className:"fa-duotone fa-wand-magic-sparkles"})," Populate"]})})]}),r.jsxs(a,{ref:u,storagePrefix:"proxy-submission",className:"mb-4",onSubmit:function(e){e.preventDefault(),fetch(y("/php_backend/proxy-add.php"),{method:"POST",body:new URLSearchParams({proxies:d})}).then(e=>e.text()).then(e=>{console.log(e)}).catch(e=>{console.error(e)}).finally(()=>{!async function(e){try{const t=await fetch(y("/php_backend/check-https-proxy.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proxy:e}),credentials:"include"});if(!t.ok){const e=await t.text().catch(()=>"");return void console.error("Error:",t.status,t.statusText,e)}const r=(t.headers.get("content-type")||"").includes("application/json")?await t.json():await t.text();console.log("Response:",r)}catch(t){console.error("Error:",t)}}(d)});const t=d.split(/\r?\n/).map(de).flat().filter(Boolean),r=[];for(const a of t){const e=new ce;if(a.includes("@")){const[t,r]=a.split("@");if(/^\d+\.\d+\.\d+\.\d+:\d+$/.test(t)){const[a,s]=t.split(":");if(e.proxy=`${a}:${s}`,r.includes(":")){const[t,a]=r.split(":");e.username=t,e.password=a}else e.username=r}else{if(!/^[^:]+:[^:]+$/.test(t)||!/^\d+\.\d+\.\d+\.\d+:\d+$/.test(r))continue;{const[a,s]=t.split(":"),[l,n]=r.split(":");e.proxy=`${l}:${n}`,e.username=a,e.password=s}}}else{const t=a.split(":");if(2!==t.length)continue;{const[r,a]=t;e.proxy=`${r}:${a}`}}r.push(e)}m(r),function(){const e=x.shift(),t=["http","https","socks4","socks5","socks4a","socks5h"];e&&console.log(`Checking proxy: ${e}, Type: ${t.join(", ")}`)}()},children:[r.jsx("div",{className:"mb-1",children:r.jsx("label",{htmlFor:"proxyTextarea",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mr-2",children:"Proxies"})}),r.jsx("textarea",{id:"proxyTextarea",name:"proxies",rows:4,className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800 text-sm text-gray-900 dark:text-gray-100 mb-2",placeholder:"103.160.204.144:80\n103.160.204.144:80@username:password\nuser:pass@103.160.204.144:80",value:d,onChange:e=>c(e.target.value)}),r.jsxs("button",{type:"submit",className:"inline-flex items-center gap-1 px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:[r.jsx("i",{className:"fa-duotone fa-paper-plane"})," Submit"]})]}),r.jsx("div",{className:"mb-2 text-xs text-gray-600 dark:text-gray-300 break-all",children:r.jsx("span",{className:"font-mono",children:s})}),r.jsx("div",{className:"mb-2 text-xs text-gray-600 dark:text-gray-300 break-all",children:r.jsx("span",{className:"font-mono",children:o})})]})})}let me=null;function ue(){const{t:e}=l(),{showSnackbar:a}=m(),s=t.useRef(!1),[n,o]=t.useState(""),[i,d]=t.useState([]),[c,u]=t.useState(!1),g=t.useRef(null),[h,b]=t.useState(1),[p,j]=t.useState(10),[k,w]=t.useState(""),[N,v]=t.useState(""),[L,T]=t.useState(""),[I,E]=t.useState(""),[R,O]=t.useState(""),[U,D]=t.useState(null),[M,$]=t.useState(!1),H=t.useRef(!0),B=async()=>{const e=await J();if(Array.isArray(e)&&e.length>0){d(e),me=e;try{localStorage.setItem("workingProxiesCache",JSON.stringify(e))}catch{}}else if(me&&Array.isArray(me)&&me.length>0)d(me);else try{const e=localStorage.getItem("workingProxiesCache");if(e){const t=JSON.parse(e);Array.isArray(t)&&t.length>0&&d(t)}}catch{}},J=t.useCallback(async()=>{if(s.current)return[];s.current=!0,await fetch(y("/artisan/proxyWorking.php")).catch(S);let e=[];try{const t=await fetch(y("/embed.php?file=working.json"),{signal:AbortSignal.timeout(5e3)});if(403===t.status)return s.current=!1,[];if(e=await t.json(),e.error)return s.current=!1,[];if(!Array.isArray(e))return s.current=!1,[]}catch{return s.current=!1,[]}s.current=!1;for(let t=0;t<e.length;t++){const r=e[t];"true"===r.https&&(r.type=r.type?`${r.type}-SSL`:"SSL"),delete r.https,e[t]=r}return e.sort((e,t)=>{const r=e.last_check?new Date(e.last_check).getTime():0;return(t.last_check?new Date(t.last_check).getTime():0)-r}),e},[]),z=t.useMemo(()=>{if(!i[0])return[];const e=Object.keys(i[0]),t=["useragent","webgl_vendor","browser_vendor","webgl_renderer"];return[...e.filter(e=>!t.includes(e)),...t.filter(t=>e.includes(t))]},[i]),Y=t.useMemo(()=>Array.from(new Set(i.map(e=>e.country).filter(Boolean))).sort(),[i]),G=t.useMemo(()=>Array.from(new Set(i.map(e=>e.city).filter(Boolean))).sort(),[i]),q=t.useMemo(()=>Array.from(new Set(i.map(e=>e.timezone).filter(Boolean))).sort(),[i]),W=t.useMemo(()=>Array.from(new Set(i.map(e=>e.region).filter(Boolean))).sort(),[i]),K=t.useMemo(()=>{let e=i;if(k&&(e=e.filter(e=>String(e.country||"")===k)),N&&(e=e.filter(e=>String(e.city||"")===N)),L&&(e=e.filter(e=>String(e.timezone||"")===L)),I&&(e=e.filter(e=>String(e.region||"")===I)),n&&(e=e.filter(e=>{const t=String(e.type||"").toLowerCase();return"ssl"===n?t.includes("ssl"):t.split("-").includes(n)})),R&&String(R).trim().length>0){const t=String(R).toLowerCase().trim();e=e.filter(e=>Object.values(e).some(e=>String(e??"").toLowerCase().includes(t)))}return e},[i,k,N,L,n,I,R]),X=t.useMemo(()=>{const e=(h-1)*p;return K.slice(e,e+p)},[K,h,p]),V=Math.ceil(K.length/p)||1;t.useEffect(()=>{H.current=!0;(async()=>{if(await _())u(!0);else{if(u(!1),me&&Array.isArray(me)&&me.length>0)d(me);else try{const e=localStorage.getItem("workingProxiesCache");if(e){const t=JSON.parse(e);Array.isArray(t)&&t.length>0&&d(t)}}catch{}await(async()=>{$(!0);try{await B()}finally{H.current&&$(!1)}})()}})(),fetch(y("/php_backend/processes.php")).catch(S);const e=localStorage.getItem("lastProxyCheckStart")||"0",t=Date.now();return t-parseInt(e,10)>3e5&&(fetch(y("/artisan/proxyCheckerStarter.php")).catch(S),localStorage.setItem("lastProxyCheckStart",t.toString())),()=>{H.current=!1}},[d]),t.useEffect(()=>{let e=!0;return(async()=>{try{const t=await f();if(!e)return;const r=t?.uid||t?.user_id||null;r&&e&&D(r)}catch(t){}})(),()=>{e=!1}},[]);const Q=t.useMemo(()=>i&&0!==i.length?i.filter(e=>{const t=e.timezone;return!t||""===t.trim()||"N/A"===t||"-"===t}).sort(()=>Math.random()-.5).slice(0,5):[],[i]);return t.useEffect(()=>{if(U&&0!==Q.length){for(const e of Q)C(y("/geoIpBackground.php"),{method:"POST_FORM",data:{uid:U,proxy:e.proxy}});P()}},[U,Q]),r.jsxs("div",{className:"relative min-h-screen p-4 bg-gray-50 dark:bg-gray-900",children:[c&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 dark:bg-black/80",children:r.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-2xl p-8 max-w-md w-full relative animate-fade-in border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("i",{className:"fa-duotone fa-shield-halved text-4xl text-blue-600 dark:text-blue-400"})}),r.jsx("h2",{className:"text-xl font-bold mb-2 text-center text-gray-900 dark:text-gray-100",children:"Verify you are human"}),r.jsx("p",{className:"mb-4 text-center text-gray-600 dark:text-gray-300",children:"Please complete the reCAPTCHA to access the proxy list."}),r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(x,{sitekey:"6LcBKnsqAAAAAF2syatwgt4Jai8NU_6c4wTjbran",ref:g,onChange:async e=>{if(e){if(await A(e)&&(u(!1),!M)){$(!0);try{await B()}finally{H.current&&$(!1)}}}}})}),r.jsx("div",{className:"flex justify-center",children:r.jsxs("button",{className:"btn btn-disabled bg-gray-300 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded disabled:opacity-50 flex items-center gap-2",disabled:!0,children:[r.jsx("i",{className:"fa-duotone fa-spinner fa-spin"})," Continue"]})})]})}),r.jsxs("div",{className:c?"blur-sm pointer-events-none select-none":"",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[r.jsx("i",{className:"fa-duotone fa-list-check"})," Proxy List"]}),r.jsxs("button",{className:"ml-0 sm:ml-4 px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white text-xs font-semibold rounded shadow transition-colors flex items-center gap-1 flex-shrink-0",onClick:async()=>{if(!M){$(!0);try{try{if(await _())return void u(!0);await B()}catch(e){console.error("[ProxyList] recaptcha status check failed",e),u(!0)}}finally{H.current&&$(!1)}}},disabled:M,title:"Refresh proxies","aria-label":"Refresh proxies",children:[r.jsx("i",{className:"fa fa-refresh sm:hidden","aria-hidden":"true"}),r.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]}),r.jsx("div",{className:"mb-4 w-full",children:r.jsx("div",{className:"block",children:r.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-x-4 gap-y-2 mt-4 items-center w-full",children:[r.jsxs("div",{className:"flex flex-col sm:flex-1 w-full sm:w-auto min-w-[200px]",children:[r.jsx("label",{className:"text-gray-700 dark:text-gray-200 mb-1",children:"Search:"}),r.jsx("input",{type:"search",value:R,onChange:e=>{O(e.target.value),b(1)},placeholder:"Search proxies...",className:"border rounded px-2 py-1 dark:bg-gray-800 dark:text-gray-100 w-full"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-1 w-full sm:w-auto min-w-[150px]",children:[r.jsx("label",{className:"text-gray-700 dark:text-gray-200 mb-1",children:"Type:"}),r.jsxs("select",{value:n,onChange:e=>{o(e.target.value),b(1)},className:"border rounded px-2 py-1 dark:bg-gray-800 dark:text-gray-100 w-full",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"http",children:"HTTP"}),r.jsx("option",{value:"socks4",children:"SOCKS4"}),r.jsx("option",{value:"socks5",children:"SOCKS5"}),r.jsx("option",{value:"ssl",children:"SSL"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-1 w-full sm:w-auto min-w-[150px]",children:[r.jsx("label",{className:"text-gray-700 dark:text-gray-200 mb-1",children:"Country:"}),r.jsxs("select",{value:k,onChange:e=>{w(e.target.value),b(1)},className:"border rounded px-2 py-1 dark:bg-gray-800 dark:text-gray-100 w-full",children:[r.jsx("option",{value:"",children:"All Countries"}),Y.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-1 w-full sm:w-auto min-w-[150px]",children:[r.jsx("label",{className:"text-gray-700 dark:text-gray-200 mb-1",children:"City:"}),r.jsxs("select",{value:N,onChange:e=>{v(e.target.value),b(1)},className:"border rounded px-2 py-1 dark:bg-gray-800 dark:text-gray-100 w-full",children:[r.jsx("option",{value:"",children:"All Cities"}),G.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-1 w-full sm:w-auto min-w-[150px]",children:[r.jsx("label",{className:"text-gray-700 dark:text-gray-200 mb-1",children:"Region:"}),r.jsxs("select",{value:I,onChange:e=>{E(e.target.value),b(1)},className:"border rounded px-2 py-1 dark:bg-gray-800 dark:text-gray-100 w-full",children:[r.jsx("option",{value:"",children:"All Regions"}),W.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-1 w-full sm:w-auto min-w-[150px]",children:[r.jsx("label",{className:"text-gray-700 dark:text-gray-200 mb-1",children:"Timezone:"}),r.jsxs("select",{value:L,onChange:e=>{T(e.target.value),b(1)},className:"border rounded px-2 py-1 dark:bg-gray-800 dark:text-gray-100 w-full",children:[r.jsx("option",{value:"",children:"All Timezones"}),q.map(e=>r.jsx("option",{value:e,children:e},e))]})]})]})})}),r.jsx("div",{className:"overflow-x-auto rounded-lg shadow border border-gray-200 dark:border-gray-700",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-2 py-1 text-xs font-semibold text-gray-700 dark:text-gray-200 uppercase tracking-wider border-b border-gray-200 dark:border-gray-700 text-center",children:"Actions"}),z.map(e=>r.jsx("th",{className:"px-2 py-1 text-xs font-semibold text-gray-700 dark:text-gray-200 uppercase tracking-wider border-b border-gray-200 dark:border-gray-700",children:e},e))]})}),r.jsxs("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-100 dark:divide-gray-800",children:[X.map((t,s)=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[r.jsxs("td",{className:"px-2 py-1 text-xs whitespace-nowrap border-b border-gray-100 dark:border-gray-800 text-center",children:[r.jsx("button",{title:e("recheck_proxy"),className:"inline-flex items-center justify-center p-1 rounded bg-yellow-100 dark:bg-yellow-700 text-yellow-800 dark:text-yellow-200 hover:bg-yellow-200 dark:hover:bg-yellow-600 mr-1",onClick:()=>(async(e,t)=>{try{let r=`proxy=${encodeURIComponent(e.proxy)}`;e.username&&(r+=`&username=${encodeURIComponent(e.username)}`),e.password&&(r+=`&password=${encodeURIComponent(e.password)}`);const a=await fetch(y("/php_backend/proxy-checker.php"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r}),s=await a.json();s&&s.logEmbedUrl,s&&s.message?t({message:s.message,type:"success"}):t({message:"Proxy re-check request sent.",type:"success"})}catch(r){t({message:"Failed to re-check proxy.",type:"danger"}),console.error(r)}})(t,a),children:r.jsx("i",{className:"fa-duotone fa-rotate-right"})}),r.jsx("button",{title:e("copy_proxy"),className:"inline-flex items-center justify-center p-1 rounded bg-gray-200 dark:bg-gray-800 text-gray-800 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-700 border border-gray-300 dark:border-gray-600",onClick:()=>(e=>{e.proxy&&navigator.clipboard.writeText(e.proxy)})(t),children:r.jsx("i",{className:"fa-duotone fa-copy"})})]}),z.map(e=>r.jsx("td",{className:"px-2 py-1 text-xs whitespace-nowrap border-b border-gray-100 dark:border-gray-800 text-gray-900 dark:text-gray-100",children:"last_check"===e&&t[e]?F(t[e],!0,!0):"type"===e&&t[e]?String(t[e]).split("-").filter(Boolean).map(e=>{let t="inline-block rounded px-2 py-0.5 mx-0.5 mb-0.5 text-xxs font-semibold align-middle border mr-1";return"http"===e.toLowerCase()?t+=" bg-blue-200 text-blue-900 dark:bg-blue-400/20 dark:text-blue-100 border-blue-300 dark:border-blue-500":"socks4"===e.toLowerCase()?t+=" bg-purple-200 text-purple-900 dark:bg-purple-400/20 dark:text-purple-100 border-purple-300 dark:border-purple-500":"socks5"===e.toLowerCase()?t+=" bg-orange-200 text-orange-900 dark:bg-orange-400/20 dark:text-orange-100 border-orange-300 dark:border-orange-500":"ssl"===e.toLowerCase()?t+=" bg-green-200 text-green-900 dark:bg-green-400/20 dark:text-green-100 border-green-300 dark:border-green-500":t+=" bg-gray-200 text-gray-900 dark:bg-gray-700 dark:text-gray-100 border-gray-300 dark:border-gray-600",r.jsx("span",{className:t,children:e.toUpperCase()},e+"type"+t)}):"latency"===e&&void 0!==t[e]&&null!==t[e]?`${t[e]} ms`:String(t[e]??"")},e))]},s)),0===X.length&&r.jsx("tr",{children:r.jsx("td",{colSpan:z.length,className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No proxies found."})})]})]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-4 items-center w-full justify-center text-center",children:[r.jsxs("div",{className:"flex w-full sm:w-auto gap-1 justify-center whitespace-nowrap",children:[r.jsxs("button",{onClick:()=>b(e=>Math.max(1,e-1)),disabled:1===h,className:"btn btn-outline px-2 py-1 border rounded disabled:opacity-50 flex items-center gap-1 border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 w-auto min-w-[64px] text-xs",children:[r.jsx("i",{className:"fa-duotone fa-chevron-left"})," Prev"]}),r.jsxs("span",{className:"text-gray-700 dark:text-gray-200 flex items-center px-1 text-xs",children:["Page ",h," of ",V]}),r.jsxs("button",{onClick:()=>b(e=>Math.min(V,e+1)),disabled:h===V,className:"btn btn-outline px-2 py-1 border rounded disabled:opacity-50 flex items-center gap-1 border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 w-auto min-w-[64px] text-xs",children:["Next ",r.jsx("i",{className:"fa-duotone fa-chevron-right"})]})]}),r.jsxs("div",{className:"flex w-full sm:w-auto gap-2 justify-center items-center mt-2 sm:mt-0 text-xs",children:[r.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:"Rows per page:"}),r.jsx("select",{value:p,onChange:e=>{j(Number(e.target.value)),b(1)},className:"border rounded px-2 py-1 dark:bg-gray-800 dark:text-gray-100 border-gray-300 dark:border-gray-700 w-auto min-w-[64px] text-xs",children:[10,20,50,100].map(e=>r.jsx("option",{value:e,children:e},e))})]})]})]}),r.jsx(xe,{}),r.jsx(ne,{}),r.jsx(oe,{}),r.jsx(le,{})]})}export{q as A,W as C,Y as D,M as H,se as L,D as N,B as O,ue as P,G as S,V as a,$ as b,H as c,ae as d,R as e,E as f,U as g};
