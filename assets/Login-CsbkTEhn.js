import{j as e}from"../index.js";import{r as o}from"./react-router-ChLYyIsA.js";import{c as g,N as x,F as f}from"./Navbar-DDrzdQ_R.js";import"./react-CjZsb-BP.js";const k=()=>{const[l,c]=o.useState(""),[n,m]=o.useState(""),[i,u]=o.useState(""),[s,d]=o.useState(""),a={};o.useEffect(()=>{document.title="Login - PHP Proxy Hunter";const t=g("/oauth/google");a.getAuthUrl||(a.getAuthUrl=!0,fetch(g("/php_backend/google-oauth.php",{redirect_uri:t,"google-auth-uri":!0})).then(r=>r.json()).then(r=>{d(r.auth_uri),console.log(r),document.querySelector("#google-login-button")?.removeAttribute("disabled")}).catch(r=>{console.error("Error fetching Google Auth URL:",r),a.getAuthUrl=!1,document.querySelector("#google-login-button")?.setAttribute("disabled","true")}))},[d]);const b=t=>{if(t.preventDefault(),!l||!n){u("Please enter both username and password.");return}u(""),alert("Login successful!")},h=()=>{s?window.location.href=s:alert("Google login not available at the moment.")};return e.jsxs(e.Fragment,{children:[e.jsx(x,{}),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:e.jsxs("form",{onSubmit:b,className:"bg-white dark:bg-gray-800 p-8 rounded shadow-md w-full max-w-md",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-blue-600 dark:text-white",children:"Login"}),i&&e.jsx("div",{className:"mb-4 text-red-500",children:i}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-1 text-gray-700 dark:text-gray-200",htmlFor:"username",children:"Username"}),e.jsx("input",{id:"username",type:"text",value:l,onChange:t=>c(t.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white",autoComplete:"username"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block mb-1 text-gray-700 dark:text-gray-200",htmlFor:"password",children:"Password"}),e.jsx("input",{id:"password",type:"password",value:n,onChange:t=>m(t.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white",autoComplete:"current-password"})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded focus:outline-none focus:ring mb-4",children:"Login"}),e.jsxs("button",{id:"google-login-button",disabled:!s,"aria-label":"Login with Google",title:"Login with Google",type:"button",className:"w-full flex items-center justify-center bg-white border border-gray-300 hover:bg-gray-100 text-gray-700 font-semibold py-2 px-4 rounded focus:outline-none focus:ring dark:bg-gray-700 dark:text-white dark:border-gray-500 dark:hover:bg-gray-600",style:{marginTop:"8px"},onClick:h,children:[e.jsx("span",{className:"w-5 h-5 mr-2 fa-brands fa-google",style:{fontSize:"1.25rem"}}),"Login with Google"]})]})}),e.jsx(f,{})]})};export{k as default};
