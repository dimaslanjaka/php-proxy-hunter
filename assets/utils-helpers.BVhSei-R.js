import{b as t}from"./proxy.DgsyWMco.js";const e=!1,n="/php-proxy-hunter/";function a(t){let e;try{e=new URL(t)}catch(n){return!1}return"http:"===e.protocol||"https:"===e.protocol}function r(t,e={},a){let r=window.location.origin,o="";if(o=n.endsWith("/")?n.slice(0,-1):n,t.endsWith("/")&&(t+="index.html"),t.includes(".php")){const t="sh.webmanajemen.com";r=`${window.location.protocol}//${t}`,o=""}!t.includes(".php")&&o&&(t=o+(t.startsWith("/")?t:"/"+t));const s=new URL(t,r);Object.keys(e).forEach(t=>{s.searchParams.append(t,String(e[t]))});return s.toString()}async function o(){return(await t.get(r("/php_backend/user-info.php"))).data}async function s(e=1,n=20){return(await t.get(r("/php_backend/logs.php"),{params:{page:e,per_page:n,me:1}})).data}async function c(){return(await t.get(r("/php_backend/list-user.php"))).data}async function i(e,n){return(await t.post(r("/php_backend/refill-saldo.php"),{user:e,amount:n})).data}async function p(e,n){return(await t.post(r("/php_backend/refill-saldo.php"),{user:e,amount:n,set:!0})).data}function l(t){return null==t||("string"==typeof(e=t)||e instanceof String)&&0===t.trim().length||Array.isArray(t)&&0===t.length||"object"==typeof t&&0===Object.keys(t).length;var e}const u=[];let h=!1;function d(e={}){if(!h){h=!0;const n=u.shift();if(!n)return void(h=!1);const a="string"==typeof n?{url:n}:n,r=Object.assign({},e,a),o={timeout:5e3,validateStatus:()=>!0,withCredentials:Boolean(r.includeCredentials)},s=(r.method||"GET").toString().toUpperCase();let c;if("POST_JSON"===s)o.headers=Object.assign({},o.headers,{"Content-Type":"application/json"}),c=t.post(a.url,r.data||{},o);else if("POST_FORM"===s){o.headers=Object.assign({},o.headers,{"Content-Type":"application/x-www-form-urlencoded"});let e=r.data||"";!e||"object"!=typeof e||e instanceof URLSearchParams||(e=new URLSearchParams(e).toString()),c=t.post(a.url,e,o)}else c=t.get(a.url,o);c.catch(()=>{f(a)}).finally(()=>{h=!1,u.length>0&&d(e)})}}function f(t,e={}){const n="string"==typeof t?Object.assign({url:t},e):t||{},a=t=>{try{return`${t.url}|${(t.method||"GET").toString().toUpperCase()}|${JSON.stringify(t.data||"")}|${Boolean(t.includeCredentials)}`}catch(e){return`${t.url}|${(t.method||"GET").toString().toUpperCase()}|[unserializable]|${Boolean(t.includeCredentials)}`}},r=a(n);u.some(t=>a("string"==typeof t?{url:t}:t)===r)||u.push(n)}function y(t){const e=new Date(t);if(isNaN(e.getTime()))return t;const n=(new Date).getTime()-e.getTime(),a=Math.floor(n/1e3),r=Math.floor(a/60),o=Math.floor(r/60),s=Math.floor(o/24),c=o%24,i=r%60,p=a%60;let l="";return s>0&&(l+=s+" day"+(1===s?"":"s")+" "),c>0&&(l+=c+" hour"+(1===c?"":"s")+" "),i>0&&(l+=i+" minute"+(1===i?"":"s")+" "),p>0&&(l+=p+" second"+(1===p?"":"s")+" "),l+="ago",l}function g(...t){}const w=new Map,m=new Map;async function b(t){if(!t)return!1;if(w.has(t))return w.get(t);if(m.has(t))return m.get(t);const e=(async()=>{try{const e=await fetch(r("/php_backend/recaptcha.php"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`g-recaptcha-response=${encodeURIComponent(t)}`}),n=await e.json(),a=!(!n||!n.success);return w.set(t,a),a}catch(e){return console.error("[ProxyList] verifyRecaptchaToken error",e),w.set(t,!1),!1}finally{m.delete(t)}})();return m.set(t,e),e}async function S(){try{const t=await fetch(r("/php_backend/recaptcha.php"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"status=1"}),e=await t.json();return!(!e||"boolean"!=typeof e.success)&&!e.success}catch(t){return console.error("[ProxyList] checkRecaptchaSessionExpired error",t),!1}}export{a,s as b,r as c,l as d,i as e,c as f,o as g,S as h,e as i,f as j,g as n,d as r,p as s,y as t,b as v};
