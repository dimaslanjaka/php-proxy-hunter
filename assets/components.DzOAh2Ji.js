import{i as e,a,b as t,u as s,R as r,j as n,s as l,L as o,r as i,c as d}from"./proxy.FGoEKV_F.js";import{i as c,a as g,g as u}from"./utils-helpers.B3nQ8z2c.js";const m={en:{translation:{welcome:"Welcome",theme_light:"Light Theme",theme_dark:"Dark Theme",toggle_theme:"Toggle Theme",set_saldo_label:"Set New Balance",set_saldo_placeholder:"Enter new balance (will replace old balance). Example: <1>100000</1> (will become {{exampleRupiah}})",current_saldo:"Current balance:",saldo_will_change:"Balance will be changed to <1>{{newSaldo}}</1>",saldo_input_hint:"Enter new balance (in numbers)",set_saldo_button:"Set Balance",saving:"Saving...",set_saldo_error:"Failed to set balance.",add_saldo_label:"Add Balance",add_saldo_placeholder:"Enter the amount of balance to <1>add</1> to the selected user.\nExample: <3>100000</3> (balance will increase).",add_saldo_current:"Current balance:",add_saldo_will:"Balance will increase to <1>{{newSaldo}}</1>",add_saldo_hint:"Enter the amount of balance to add (in numbers)",add_saldo_button:"Add Balance",add_saldo_error:"Failed to add balance.",add_saldo_select_user:"Please select a user to add balance.",saldo_manager_title:"Saldo Manager",select_user_label:"Select User",loading_users:"Loading users...",no_users_found:"No users found",failed_to_refresh_user_list:"Failed to refresh user list.",failed_to_fetch_user_info:"Failed to fetch user info.",enter_new_password_hint:"Enter a new password for the selected user.",edit_password_label:"Edit User Password",password_placeholder:"New password",set_password_button:"Set Password",set_password_success:"Password updated successfully.",set_password_error:"Failed to set password.",password_min_length:"Password must be at least 6 characters.",settings_title:"User Settings",settings_must_login:"You must be logged in to access settings.",settings_failed_load_user:"Failed to load user information.",settings_fill_all_fields:"Please fill in all fields.",settings_profile_updated:"Profile updated successfully!",settings_failed_update_profile:"Failed to update profile.",settings_redirect_buy_saldo:"Redirecting to buy saldo (credit)...",settings_username_label:"Username",settings_email_label:"Email",settings_password_label:"New Password",settings_password_placeholder:"Leave blank to keep current password",settings_save_changes:"Save Changes",settings_buy_saldo:"Buy Saldo (Credit)"}},id:{translation:{welcome:"Selamat Datang",theme_light:"Tema Terang",theme_dark:"Tema Gelap",toggle_theme:"Ganti Tema",set_saldo_label:"Set Saldo Baru",set_saldo_placeholder:"Masukkan saldo baru (akan menggantikan saldo lama). Contoh: <1>100000</1> (akan menjadi {{exampleRupiah}})",current_saldo:"Saldo saat ini:",saldo_will_change:"Saldo akan diubah menjadi <1>{{newSaldo}}</1>",saldo_input_hint:"Masukkan saldo baru (dalam angka)",set_saldo_button:"Set Saldo",saving:"Menyimpan...",set_saldo_error:"Gagal mengatur saldo.",add_saldo_label:"Tambah Saldo",add_saldo_placeholder:"Masukkan jumlah saldo yang ingin <1>ditambahkan</1> ke pengguna yang dipilih.\nContoh: <3>100000</3> (saldo akan bertambah).",add_saldo_current:"Saldo saat ini:",add_saldo_will:"Saldo akan bertambah menjadi <1>{{newSaldo}}</1>",add_saldo_hint:"Masukkan jumlah saldo yang ingin ditambahkan (dalam angka)",add_saldo_button:"Tambah Saldo",add_saldo_error:"Gagal menambah saldo.",add_saldo_select_user:"Silakan pilih pengguna untuk menambah saldo.",saldo_manager_title:"Manajer Saldo",select_user_label:"Pilih Pengguna",loading_users:"Memuat pengguna...",no_users_found:"Tidak ada pengguna ditemukan",failed_to_refresh_user_list:"Gagal memperbarui daftar pengguna.",failed_to_fetch_user_info:"Gagal mengambil info pengguna.",enter_new_password_hint:"Masukkan password baru untuk pengguna yang dipilih.",edit_password_label:"Edit Password Pengguna",password_placeholder:"Password baru",set_password_button:"Set Password",set_password_success:"Password berhasil diperbarui.",set_password_error:"Gagal mengatur password.",password_min_length:"Password minimal 6 karakter.",settings_title:"Pengaturan Pengguna",settings_must_login:"Anda harus login untuk mengakses pengaturan.",settings_failed_load_user:"Gagal memuat informasi pengguna.",settings_fill_all_fields:"Silakan isi semua kolom.",settings_profile_updated:"Profil berhasil diperbarui!",settings_failed_update_profile:"Gagal memperbarui profil.",settings_redirect_buy_saldo:"Mengalihkan ke pembelian saldo...",settings_username_label:"Nama Pengguna",settings_email_label:"Email",settings_password_label:"Password Baru",settings_password_placeholder:"Kosongkan jika tidak ingin mengubah password",settings_save_changes:"Simpan Perubahan",settings_buy_saldo:"Beli Saldo"}}};function h(){return localStorage.getItem("i18nextLng")}function p(e){localStorage.setItem("i18nextLng",e)}e.use(a).init({resources:m,lng:h()||"en",fallbackLng:"en",interpolation:{escapeValue:!1},debug:c});const _=()=>{const{i18n:e}=s();return r.useEffect(()=>{const a=h();a?a&&a!==e.language&&e.changeLanguage(a):async function(){const e="ipapiCache",a=navigator.language||"en";let s=null;const r=localStorage.getItem(e);if(r){const e=JSON.parse(r);Date.now()-e.timestamp<36e5&&(s=e.value)}if(!s){let a=!1;try{s=(await t.get("https://ipapi.co/json/")).data,a=!0}catch(l){console.warn("ipapi failed, trying ipinfo...",l)}if(!a)try{s={country_code:(await t.get("https://ipinfo.io/json")).data.country},a=!0}catch(l){console.warn("ipinfo failed, trying ipwho.is...",l)}if(!a)try{s={country_code:(await t.get("https://ipwho.is/")).data.country_code},a=!0}catch(l){console.warn("ipwho.is failed, trying ip-api...",l)}if(!a)try{s={country_code:(await t.get("http://ip-api.com/json/")).data.countryCode},a=!0}catch(l){console.error("All geo lookups failed",l)}s&&localStorage.setItem(e,JSON.stringify({value:s,timestamp:Date.now()}))}let n;return s?.country_code&&(n=s.country_code.toLowerCase(),console.log("Detected country code:",n)),n||(n=a.split("-")[0],console.warn("No country code found, using browser language:",n)),n.includes("-")&&(n=n.split("-")[0],console.warn("Country code has region, using only language:",n)),n}().then(a=>{a&&a!==e.language&&(e.changeLanguage(a),p(a))})},[e]),n.jsxs("div",{className:"flex items-center my-4",children:[n.jsx("i",{className:"fa-solid fa-language mr-2 text-lg"}),n.jsxs("select",{className:"block px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-gray-200 dark:border-gray-600 dark:focus:bg-gray-700 transition",value:e.language,onChange:a=>{return t=a.target.value,e.changeLanguage(t),void p(t);var t},"aria-label":"Select language",children:[n.jsx("option",{value:"en",children:"English"}),n.jsx("option",{value:"id",children:"Indonesia"})]})]})},f=()=>n.jsx("footer",{className:"w-full bg-gray-100 dark:bg-gray-900 py-6 mt-16",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col items-center text-gray-500 dark:text-gray-400",children:[n.jsxs("span",{children:["Â© ",(new Date).getFullYear()," DX. All rights reserved."]}),n.jsx(_,{})]})}),x=new l.safelink({exclude:[/\.webmanajemen\.com/],redirect:"/outbound?url=",password:"php-proxy-hunter",verbose:!0});class b extends r.Component{constructor(e){super(e),this.state={sf:null},this._isMounted=!1}componentDidMount(){this._isMounted=!0,this._isMounted&&this.setState({sf:x})}componentWillUnmount(){this._isMounted=!1}render(){const{href:e,to:a,...t}=this.props,s=String(e||a||"").trim();let r=s,l="internal";const{sf:i}=this.state;let d;return"string"==typeof s&&i&&g(s)&&(r=i.parseUrl(s),l=r===s?"internal":"external"),d="external"===l?n.jsx("a",{...t,href:r,target:"_blank",rel:"noreferrer",children:this.props.children}):n.jsx(o,{...t,to:s,children:this.props.children}),d}}const y=i.createContext(void 0),w=({children:e})=>{const[a,t]=i.useState(()=>"undefined"!=typeof window&&localStorage.getItem("theme")||"light");i.useEffect(()=>{document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(a),localStorage.setItem("theme",a)},[a]);return n.jsx(y.Provider,{value:{theme:a,toggleTheme:()=>{t(e=>"light"===e?"dark":"light")}},children:e})},k=()=>{const{theme:e,toggleTheme:a}=(()=>{const e=i.useContext(y);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e})();return r.useEffect(()=>{const a=document.documentElement;"dark"===e?a.classList.add("dark"):a.classList.remove("dark")},[e]),n.jsxs("button",{type:"button",onClick:()=>{a()},"aria-label":"Toggle dark mode",className:"relative w-14 h-8 flex items-center bg-gray-200 dark:bg-gray-700 rounded-full p-1 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("span",{className:"sr-only",children:"Toggle dark mode"}),n.jsx("span",{className:"absolute left-2 text-lg text-gray-500 dark:text-gray-300",children:n.jsx("i",{className:"fa-duotone fa-moon"})}),n.jsx("span",{className:"absolute right-2 text-lg text-yellow-400 dark:text-yellow-300",children:n.jsx("i",{className:"fa-duotone fa-sun"})}),n.jsx("span",{className:"absolute top-1 left-1 w-6 h-6 rounded-full bg-white dark:bg-gray-900 shadow-md transform transition-transform duration-300 "+("dark"===e?"translate-x-6":"")},e)]})},v=()=>{const e=d(),[a,t]=i.useState({authenticated:!1,email:void 0,first_name:void 0,last_name:void 0,saldo:void 0,uid:void 0,username:void 0,userMenuOpen:!1,socialOpen:!1}),s=i.useRef(null),r=i.useRef(null);i.useEffect(()=>{t(e=>({...e,userMenuOpen:!1,socialOpen:!1})),"/logout"!==e.pathname?u().then(e=>{e.authenticated?t(a=>({...a,authenticated:!0,email:e.email,first_name:e.first_name,last_name:e.last_name,saldo:e.saldo,uid:e.uid,username:e.username,admin:e.admin||!1})):t(e=>({...e,authenticated:!1}))}).catch(e=>{console.error("Error fetching user info:",e),t(e=>({...e,authenticated:!1}))}):t({authenticated:!1,email:void 0,first_name:void 0,last_name:void 0,saldo:void 0,uid:void 0,username:void 0,userMenuOpen:!1,socialOpen:!1})},[e.pathname]),i.useEffect(()=>{const e=e=>{const n=s.current,l=r.current;(a.userMenuOpen&&n&&!n.contains(e.target)||a.socialOpen&&l&&!l.contains(e.target))&&t(e=>({...e,userMenuOpen:!1,socialOpen:!1}))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[a.userMenuOpen,a.socialOpen]);const l=a.socialOpen||!1,o=a.userMenuOpen||!1;return n.jsxs(n.Fragment,{children:[n.jsx("nav",{className:"w-full bg-white dark:bg-gray-900 shadow-md fixed top-0 left-0 z-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16",children:[n.jsx("div",{className:"flex items-center",children:n.jsx(b,{href:"/",className:"text-2xl font-bold text-blue-600 dark:text-white",title:"Home",children:"DX"})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(b,{href:"/proxyManager.html",className:"text-gray-700 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400 font-medium","aria-label":"Proxy Manager",title:"Proxy Manager",children:[n.jsx("i",{className:"fal fa-network-wired text-2xl","aria-hidden":"true"}),n.jsx("span",{className:"sr-only",children:"Proxy"})]}),n.jsxs("div",{className:"relative",ref:s,children:[n.jsxs("button",{className:"text-gray-700 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400 font-medium focus:outline-none flex items-center gap-1","aria-label":"User Menu",title:"User Menu",onClick:()=>{t(e=>({...e,userMenuOpen:!e.userMenuOpen,socialOpen:!1}))},type:"button",children:[n.jsx("i",{className:"fal fa-user-cog text-2xl","aria-hidden":"true"}),n.jsx("span",{className:"sr-only",children:"User Menu"}),n.jsx("i",{className:`fal fa-chevron-${o?"up":"down"} ml-1 text-xs`,"aria-hidden":"true"})]}),o&&n.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg z-50",children:a.authenticated?n.jsxs(n.Fragment,{children:[n.jsxs(b,{href:"/dashboard",className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",title:"Dashboard",children:[n.jsx("i",{className:"fal fa-tachometer-alt mr-2"})," Dashboard"]}),n.jsxs(b,{href:"/settings",className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",title:"Settings",children:[n.jsx("i",{className:"fal fa-cog mr-2"})," Settings"]}),a.admin&&n.jsxs(b,{href:"/admin",className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",title:"Admin",children:[n.jsx("i",{className:"fal fa-user-shield mr-2"})," Admin"]}),n.jsxs(b,{href:"/logout",className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",title:"Logout",children:[n.jsx("i",{className:"fal fa-sign-out-alt mr-2"})," Logout"]})]}):n.jsxs(b,{href:"/login",className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",title:"Login",children:[n.jsx("i",{className:"fas fa-sign-in-alt mr-2"})," Login"]})})]}),n.jsxs("div",{className:"relative",ref:r,children:[n.jsxs("button",{className:"text-gray-700 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400 font-medium focus:outline-none flex items-center gap-1","aria-label":"Social Media",title:"Social Media",onClick:()=>{t(e=>({...e,socialOpen:!e.socialOpen,userMenuOpen:!1}))},type:"button",children:[n.jsx("i",{className:"fal fa-ellipsis-h text-2xl","aria-hidden":"true"}),n.jsx("span",{className:"sr-only",children:"Social"}),n.jsx("i",{className:`fal fa-chevron-${l?"up":"down"} ml-1 text-xs`,"aria-hidden":"true"})]}),l&&n.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg z-50",children:[n.jsxs("a",{href:"https://github.com/dimaslanjaka/php-proxy-hunter",className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",target:"_blank",rel:"noopener noreferrer",title:"GitHub Repository",children:[n.jsx("i",{className:"fab fa-github mr-2"})," GitHub"]}),n.jsx("hr",{className:"my-1 border-gray-200 dark:border-gray-700"}),n.jsxs(b,{href:"/about",className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",title:"About",children:[n.jsx("i",{className:"fal fa-info-circle mr-2"})," About"]}),n.jsxs(b,{href:"/changelog",className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",title:"Changelog",children:[n.jsx("i",{className:"fal fa-history mr-2"})," Changelog"]}),n.jsxs(b,{href:"/contact",className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",title:"Contact",children:[n.jsx("i",{className:"fal fa-envelope mr-2"})," Contact"]})]})]}),n.jsx(k,{})]})]})}),n.jsx("div",{className:"h-16"})]})};export{f as F,b as L,v as N,w as T,x as s};
