import{b as e}from"./proxy.DgsyWMco.js";const t=!1,n="/php-proxy-hunter/";function o(e){let t;try{t=new URL(e)}catch(n){return!1}return"http:"===t.protocol||"https:"===t.protocol}function r(e,t={},o){let r=window.location.origin,a="";if(a=n.endsWith("/")?n.slice(0,-1):n,e.endsWith("/")&&(e+="index.html"),e.includes(".php")){const e="sh.webmanajemen.com";r=`${window.location.protocol}//${e}`,a=""}!e.includes(".php")&&a&&(e=a+(e.startsWith("/")?e:"/"+e));const s=new URL(e,r);Object.keys(t).forEach(e=>{s.searchParams.append(e,String(t[e]))});return s.toString()}async function a(){return(await e.get(r("/php_backend/user-info.php"))).data}async function s(t=1,n=20){return(await e.get(r("/php_backend/logs.php"),{params:{page:t,per_page:n,me:1}})).data}async function i(){return(await e.get(r("/php_backend/list-user.php"))).data}async function c(t,n){return(await e.post(r("/php_backend/refill-saldo.php"),{user:t,amount:n})).data}async function p(t,n){return(await e.post(r("/php_backend/refill-saldo.php"),{user:t,amount:n,set:!0})).data}const l={},u=function(e,t,n){let o=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),r=n?.nonce||n?.getAttribute("nonce");o=e(t.map(e=>{if((e=function(e){return"/php-proxy-hunter/"+e}(e))in l)return;l[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script"),o.crossOrigin="",o.href=e,r&&o.setAttribute("nonce",r),document.head.appendChild(o),t?new Promise((t,n)=>{o.addEventListener("load",t),o.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return o.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})};function d(e){return null==e||("string"==typeof(t=e)||t instanceof String)&&0===e.trim().length||Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length;var t}const h={im3:r("/php_backend/img.php?url="+encodeURIComponent("https://im3-img.indosatooredoo.com/indosatassets/images/GeraiOnline.jpg")),axis:r("/php_backend/img.php?url="+encodeURIComponent("https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Axis_logo_2015.svg/1200px-Axis_logo_2015.svg.png")),unknown:r("/php_backend/img.php?url="+encodeURIComponent("https://www.pikpng.com/pngl/b/597-5973888_unknown-png.png"))},f=[];let m=!1;function g(t={}){if(!m){m=!0;const n=f.shift();if(!n)return void(m=!1);const o="string"==typeof n?{url:n}:n,r=Object.assign({},t,o),a={timeout:5e3,validateStatus:()=>!0,withCredentials:Boolean(r.includeCredentials)},s=(r.method||"GET").toString().toUpperCase();let i;if("POST_JSON"===s)a.headers=Object.assign({},a.headers,{"Content-Type":"application/json"}),i=e.post(o.url,r.data||{},a);else if("POST_FORM"===s){a.headers=Object.assign({},a.headers,{"Content-Type":"application/x-www-form-urlencoded"});let t=r.data||"";!t||"object"!=typeof t||t instanceof URLSearchParams||(t=new URLSearchParams(t).toString()),i=e.post(o.url,t,a)}else i=e.get(o.url,a);i.catch(()=>{y(o)}).finally(()=>{m=!1,f.length>0&&g(t)})}}function y(e,t={}){const n="string"==typeof e?Object.assign({url:e},t):e||{},o=e=>{try{return`${e.url}|${(e.method||"GET").toString().toUpperCase()}|${JSON.stringify(e.data||"")}|${Boolean(e.includeCredentials)}`}catch(t){return`${e.url}|${(e.method||"GET").toString().toUpperCase()}|[unserializable]|${Boolean(e.includeCredentials)}`}},r=o(n);f.some(e=>o("string"==typeof e?{url:e}:e)===r)||f.push(n)}function w(e,t=!1,n=!1){const o=new Date(e);if(isNaN(o.getTime()))return e;const r=(new Date).getTime()-o.getTime(),a=Math.floor(r/1e3),s=Math.floor(a/60),i=Math.floor(s/60),c=Math.floor(i/24),p=i%24,l=s%60,u=a%60,d=(e,t,o)=>n?e+o+" ":e+" "+t+(1===e?"":"s")+" ";let h="";return c>0&&(h+=d(c,"day","d"),p>0&&(h+=d(p,"hour","h")),t)?(h+="ago",h):(0===c&&p>0&&(h+=d(p,"hour","h")),l>0&&!(t&&c>0)&&(h+=d(l,"minute","m"),0===c&&0===p&&u>0&&(h+=d(u,"second","s"))),0===c&&0===p&&0===l&&u>0&&(h+=d(u,"second","s")),h+="ago",h)}function b(...e){}const k=new Map,S=new Map;async function _(e){if(!e)return!1;if(k.has(e))return k.get(e);if(S.has(e))return S.get(e);const t=(async()=>{try{const t=await fetch(r("/php_backend/recaptcha.php"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`g-recaptcha-response=${encodeURIComponent(e)}`}),n=await t.json(),o=!(!n||!n.success);return k.set(e,o),o}catch(t){return console.error("[ProxyList] verifyRecaptchaToken error",t),k.set(e,!1),!1}finally{S.delete(e)}})();return S.set(e,t),t}async function j(){try{const e=await fetch(r("/php_backend/recaptcha.php"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"status=1"}),t=await e.json();return!(!t||"boolean"!=typeof t.success)&&!t.success}catch(e){return console.error("[ProxyList] checkRecaptchaSessionExpired error",e),!1}}export{u as _,o as a,s as b,r as c,d,h as e,c as f,a as g,i as h,t as i,j,y as k,b as n,g as r,p as s,w as t,_ as v};
